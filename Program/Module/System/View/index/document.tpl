
<style>
	<!--
	/* Font Definitions */
	@font-face{font-family:Wingdings;panose-1:5 0 0 0 0 0 0 0 0 0;}
	@font-face{font-family:宋体;panose-1:2 1 6 0 3 1 1 1 1 1;}
	@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
	@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
	@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
	@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
	@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
	/* Style Definitions */
	p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	h1
	{mso-style-link:"标题 1 Char";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
	h2
	{mso-style-link:"标题 2 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
	h3
	{mso-style-link:"标题 3 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
	p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:63.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:105.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:126.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:147.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:168.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
	a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
	a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
	p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:宋体;}
	code
	{font-family:宋体;}
	pre
	{mso-style-link:"HTML 预设格式 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
	p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-link:"无间隔 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
	p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
	p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
	span.Char
	{mso-style-name:"页眉 Char";
	mso-style-link:页眉;}
	span.Char0
	{mso-style-name:"页脚 Char";
	mso-style-link:页脚;}
	span.HTMLChar
	{mso-style-name:"HTML 预设格式 Char";
	mso-style-link:"HTML 预设格式";
	font-family:宋体;}
	span.hljs-selector-class
	{mso-style-name:hljs-selector-class;}
	span.hljs-comment
	{mso-style-name:hljs-comment;}
	span.hljs-keyword
	{mso-style-name:hljs-keyword;}
	span.hljs-string
	{mso-style-name:hljs-string;}
	span.hljs-number
	{mso-style-name:hljs-number;}
	span.Char1
	{mso-style-name:"批注框文本 Char";
	mso-style-link:批注框文本;}
	span.1Char
		  {mso-style-name:"标题 1 Char";
          mso-style-link:"标题 1";
          font-weight:bold;}
		  span.2Char
				{mso-style-name:"标题 2 Char";
                mso-style-link:"标题 2";
                font-family:"Cambria","serif";
                font-weight:bold;}
				span.3Char
					  {mso-style-name:"标题 3 Char";
                      mso-style-link:"标题 3";
                      font-family:宋体;
                      font-weight:bold;}
					  span.hljs-title
					  {mso-style-name:hljs-title;}
					  span.hljs-function
					  {mso-style-name:hljs-function;}
					  span.hljs-params
					  {mso-style-name:hljs-params;}
					  span.hljs-attribute
					  {mso-style-name:hljs-attribute;}
					  span.Char2
					  {mso-style-name:"无间隔 Char";
                      mso-style-link:无间隔;}
					  .MsoChpDefault
	{font-family:"Calibri","sans-serif";}
	/* Page Definitions */
	@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
	div.WordSection1
	{page:WordSection1;}
		/* List Definitions */
	ol
	{margin-bottom:0cm;}
	ul
	{margin-bottom:0cm;}
	-->
</style>

</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

	<p class=MsoNoSpacing align=center style='margin-top:16pt;margin-right:0cm;
margin-bottom:12.0pt;margin-left:0cm;text-align:center'><span
															  style='color:#4F81BD'><img width=149 height=79 id="图片 143"
																						 src="/Static/admin/document/image001.png"></span></p>

	<div style='border-top:solid #4F81BD 1.0pt;border-left:none;border-bottom:solid #4F81BD 1.0pt;
border-right:none;padding:6.0pt 0cm 6.0pt 0cm'>

		<p class=MsoNoSpacing style='margin-bottom:12.0pt;border:none;padding:0cm;text-align: center;'><span
					 style='font-size:36.0pt;font-family:"Cambria","serif";color:#4F81BD;
text-transform:uppercase'>icEphp</span><span style='font-size:36.0pt;
font-family:宋体;color:#4F81BD;text-transform:uppercase'>框架文档</span></p>

	</div>

	<p class=MsoNoSpacing align=center style='text-align:center'><span
				style='font-size:14.0pt;font-family:宋体;color:#4F81BD'>撰写人员：蓝冰</span><span
				 style='font-size:14.0pt;color:#4F81BD'>&nbsp; </span><span
				style='font-size:14.0pt;font-family:宋体;color:#4F81BD'>姚旋</span><span
				 style='font-size:14.0pt;color:#4F81BD'>&nbsp; </span><span
				style='font-size:14.0pt;font-family:宋体;color:#4F81BD'>张强</span><span
				 style='font-size:14.0pt;color:#4F81BD'>&nbsp; </span><span
				style='font-size:14.0pt;font-family:宋体;color:#4F81BD'>顿亚男</span>

	<b><span style='font-size:10.5pt;font-family:宋体'><br clear=all
														 style='page-break-before:always'>
</span></b>

	<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>&nbsp;</span></p>
	<div class="col-md-12" role="complementary" style="padding-left:10%">
	<p class=MsoTocHeading><span style='font-family:宋体;font-weight:normal'>目录</span></p>

	<p class=MsoToc1><span
				><a href="#_Toc486335780"><span ><span
							>一、</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>序言</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335781"><span
																	 ><span>二、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>基础</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335782"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>环境需求</span></span><span
						>:</span><span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335783"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>安装过程</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335784"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>Web</span><span ><span
							>服务器配置</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335785"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>目录结构</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335786"><span
						>(</span><span ><span
							>五)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>命名规范</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335787"><span
						>(</span><span ><span
							>六)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>系统常量</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335788"><span
						>(</span><span ><span
							>七)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>运行权限</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335789"><span
																	 ><span>三、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>架构</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335790"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>架构总览</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>7</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335791"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>生命周期</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>9</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335792"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>入口文件</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>11</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335793"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>URL</span><span ><span
							>访问</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>11</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335794"><span
						>(</span><span ><span
							>五)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模块设计</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>12</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335795"><span
						>(</span><span ><span
							>六)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>命名空间</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>12</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335796"><span
						>(</span><span ><span
							>七)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>自动加载</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335797"><span
						>(</span><span ><span
							>八)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>API</span><span ><span
							>友好</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335798"><span
						>(</span><span ><span
							>九)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>错误调试</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335799"><span
																	 ><span>四、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>配置</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335800"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>配置目录</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335801"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>配置格式</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>14</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335802"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>读取配置</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>14</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335803"><span
																	 ><span>五、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>路由</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>14</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335804"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>路由模式</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>14</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335805"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>路由自定义</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>14</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335806"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>URL</span><span ><span
							>生成</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>15</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335807"><span
																	 ><span>六、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>控制器</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>15</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335808"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>控制器定义</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>15</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335809"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>控制器初始化</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>16</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335810"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>跳转和重定向</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>17</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335811"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>获取请求参数</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335812"><span
						>(</span><span ><span
							>五)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>函数传参说明：</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335813"><span
						>(</span><span ><span
							>六)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>扩展</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335814"><span
						>(</span><span ><span
							>七)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>添加应用函数</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>30</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335815"><span
																	 ><span>七、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>请求</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>30</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335816"><span
																	 ><span>八、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>数据库</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>30</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335817"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>连接数据库</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>30</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335818"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>基本使用</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>31</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335819"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>查询构造器</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>32</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335820"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>级联查询</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>35</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335821"><span
																	 ><span>九、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模型</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>36</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335822"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模型初始化</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>36</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335823"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>record</span><span ><span
							>模型</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>36</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335824"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>table</span><span ><span
							>模型</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>36</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335825"><span
																	 ><span>十、</span></span><span style='font-size:
10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>视图</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>37</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335826"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>视图实例化</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>37</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335827"><span
																	 ><span>十一、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模板</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>38</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335828"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模板类</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>38</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335829"><span
																	 ><span>十二、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>日志</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335830"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>日志配置</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335831"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>日志写入</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335832"><span
																	 ><span>十三、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>错误调试</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335833"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>模式</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335834"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>SQL</span><span ><span
							>调试</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>42</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335835"><span
																	 ><span>十四、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>安全</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>42</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335836"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>输入安全</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>42</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335837"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>数据库安全</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>43</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335838"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>上传安全</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>43</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335839"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>其他安全建议</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>43</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335840"><span
																	 ><span>十五、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>杂项</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>43</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335841"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>缓存</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>43</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335842"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>Session</span><span ><span
							>与Cookie</span></span><span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
						style='color:windowtext;display:none;text-decoration:none'>44</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335843"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>多语言</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>44</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335844"><span
						>(</span><span ><span
							>四)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>分页</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>44</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335845"><span
						>(</span><span ><span
							>五)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>验证码</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>44</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335846"><span
																	 ><span>十六、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>扩展</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335847"><span
																	 ><span>十七、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>命令行模式</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335848"><span
																	 ><span>十八、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>部署</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335849"><span
						>(</span><span ><span
							>一)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>Apache</span><span ><span
							>模式下</span></span><span >,</span><span
						 ><span>需要</span></span><span
						>.</span><span >htaccess</span><span
						 ><span>文件来进行转向</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335850"><span
						>(</span><span ><span
							>二)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>Nginx</span><span ><span
							>模式下,</span></span><span ><span
							>需要配置文件</span></span><span ><span
							> </span></span><span ><span
							>来进行转向</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc2><span><a href="#_Toc486335851"><span
						>(</span><span ><span
							>三)</span></span><span style='font-size:10.5pt;line-height:115%;
color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						>Linux</span><span ><span
							>下的权限</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

	<p class=MsoToc1><span><a href="#_Toc486335852"><span
																	 ><span>十九、</span></span><span
						style='font-size:10.5pt;line-height:115%;color:windowtext;text-decoration:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
						 ><span>附录</span></span><span
						style='color:windowtext;display:none;text-decoration:none'>... </span><span
						style='color:windowtext;display:none;text-decoration:none'>46</span></a></span></p>

	<p class=MsoNormal><span>&nbsp;</span></p>

	<p class=MsoNormal><span style='font-size:11.0pt;font-family:宋体'>&nbsp;</span></p>

	<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
				clear=all style='page-break-before:always'>
</span>

	<p class=MsoNormal><span>&nbsp;</span></p>

	<p class=MsoNormal><span >&nbsp;</span></p>

	<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
				name="_Toc486335780"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>一、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>序言</span></a></h1>

	<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>icePHP&nbsp; </span><span style='font-size:10.5pt'>一个注重安全的分布式开发框架</span></p>

	<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>icePHP</span><span style='font-size:10.5pt'>从</span><span
																  style='font-size:10.5pt'>2010</span><span style='font-size:10.5pt'>年创建以来</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>一直把安全性作为框架的首要目标</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>同时兼顾易用性</span><span
				 style='font-size:10.5pt'>.</span><span style='font-size:
10.5pt'> </span></p>

	<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>icePHP</span><span style='font-size:10.5pt'>框架提供以下特性<span>:</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>1.</span><span
				style='font-size:10.5pt'>安全<span>:</span>严谨的参数检查<span>,</span>详细的日志记录<span
					>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>2.</span><span
				style='font-size:10.5pt'>分布<span>:</span>框架支持多个数据库服务器的连接<span
					>,</span>并提供跨数据库的表关联查询<span>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>3.</span><span
				style='font-size:10.5pt'>易用<span>:</span>遵循<span>MVC</span>开发模式<span
					>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>4.DAO:</span><span
				style='font-size:10.5pt'>完整的数据访问层设计<span>,</span>对常用数据库操作进行了封装<span
					>,</span>并允许开发人员自行编写复杂<span>SQL</span>语句<span>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>5.ORM:</span><span
				style='font-size:10.5pt'>同时提供<span>ORM</span>模式<span>,</span>提高数据操作代码的开发速度<span
					>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>6.</span><span
				style='font-size:10.5pt'>协作性<span>:</span>本框架可作为独立插件<span
					>,</span>插入其他框架中<span>,</span>提供本框架全部的强劲功能<span
					>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>7.</span><span
				style='font-size:10.5pt'>命令行<span>:</span>本框架提供命令行执行模式<span
					>,</span>并统一参数接口<span>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>8.Mongo</span><span
				style='font-size:10.5pt'>支持<span>:</span>本框架支持<span>Mongo</span>数据库<span
					>,</span>并提供<span>mysql</span>与<span>mongo</span>之间的跨语言关联</span></p>

	<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
				name="_Toc486335781"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>二、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>基础</span></a></h1>

	<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
				>内容包括文件<span>/</span>函数<span>/</span>类<span
					>/</span>数据库<span>/</span>常量等命名规范要求，目录结构等</span></p>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335782"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(一)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>环境需求</span></a><span
				 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>:</span></h2>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架要求<span>PHP</span>版本在<span
					>5.5</span>以上<span>,</span>建议使用<span>PHP
5.6.30.</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架要求</span><span
				 style='font-size:10.5pt'>PHP</span><span style='font-size:10.5pt'>已经安装常用扩展</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>如</span><span
				 style='font-size:10.5pt'>PDO, curl, mbstring</span><span
				style='font-size:10.5pt'>等</span></p>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335783"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(二)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>安装过程</span></a></h2>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架直接放入</span><span
				 style='font-size:10.5pt'>Web</span><span style='font-size:10.5pt'>运行环境即可</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>通常这个目录是</span><span
				 style='font-size:10.5pt'> &quot;wwwroot/&lt;</span><span
				style='font-size:10.5pt'>项目名</span><span style='font-size:10.5pt'>&gt;/</span><span
				 style='font-size:10.5pt'>&quot;;</span></p>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335784"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(三)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>Web</span></a><span style='font-size:12.0pt;line-height:173%;
font-family:宋体;font-weight:normal'>服务器配置</span></h2>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>root(Nginx)</span><span
				style='font-size:10.5pt'>或</span><span style='font-size:10.5pt'>documentRoot(Apache)
</span><span style='font-size:10.5pt'>要</span><span style='font-size:10.5pt'> </span><span
				style='font-size:10.5pt'>指定为</span><span style='font-size:10.5pt'>
&quot;&lt;</span><span style='font-size:10.5pt'>项目名</span><span
																style='font-size:10.5pt'>&gt;/</span><span style='font-size:10.5pt'>public/&quot;;</span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>单一入口配置<span>,</span>此处要根据<span
					>Nginx</span>或<span>Apache</span>的不同版本进行不同的配置</span></p>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335785"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(四)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>目录结构</span></a></h2>

	<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
		   style='margin-left:24.0pt;border-collapse:collapse;border:none'>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>icePHP&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>整个项目</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>├─<span
								>program</span></span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>开发人员编写的代码</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>config</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>系统配置及应用配置</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>├─</span><span style='font-size:10.5pt'>debug</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>调试模式下的配置</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>└─</span><span style='font-size:10.5pt'>run</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>运行模式下的配置</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>controller</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器类文件</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>lib</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>第三方类库文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>model</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>业务逻辑类文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>module</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>项目模块目录</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>record</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>ORM</span><span style='font-size:10.5pt'>中的行对象类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>table</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>ORM</span><span style='font-size:10.5pt'>中的表对象类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>unit</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>业务逻辑单元类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>└─</span><span
							 style='font-size:10.5pt'>view</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>视图文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>├─<span
								>public</span></span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>允许</span><span
							 style='font-size:10.5pt'>Web</span><span style='font-size:10.5pt'>用户访问的文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>static</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>静态脚本及资源文件</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>├─</span><span style='font-size:10.5pt'>cache</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>脚本缓存谁的</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>├─</span><span style='font-size:10.5pt'>css</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>样式表文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>├─</span><span style='font-size:10.5pt'>images</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>图片资源文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
							 style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
  10.5pt'>└─</span><span style='font-size:10.5pt'>js</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>JS</span><span style='font-size:10.5pt'>脚本文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>upload</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>用户上传的文件</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>└─</span><span
							 style='font-size:10.5pt'>index.php</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>整个项目的单一入口文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>├─<span
								>run</span></span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>系统运行时生成的文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
							 style='font-size:10.5pt'>log</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架或开发人员生成的文本日志</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>└─</span><span
							 style='font-size:10.5pt'>view_c</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>编译后的视图文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>└</span><span
							 style='font-size:10.5pt'>─system</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架代码</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>core</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架内核类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>dao</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>DAO</span><span style='font-size:10.5pt'>访问层</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>enhance</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架扩展类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>mvc</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>MVC</span><span style='font-size:10.5pt'>相关控制类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>Frame.php</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架核心类</span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>plugin.php</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架作为其他框架的插件时的包含文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
		</tr>
		<tr>
			<td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
							style='font-size:10.5pt'>└─</span><span style='font-size:10.5pt'>program.php</span></p>
			</td>
			<td width=283 valign=top style='width:212.35pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架以命令行方式运行时的启动文件</span></p>
			</td>
		</tr>
	</table>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335786"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(五)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>命名规范</span></a></h2>

	<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
		   style='margin-left:24.0pt;border-collapse:collapse;border:none'>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;</span><span style='font-size:10.5pt'>配置文件</span><span
							style='font-size:10.5pt'> </span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border:solid #A3A3A3 1.0pt;
  border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'> .config.php</span><span
							style='font-size:10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border:solid #A3A3A3 1.0pt;
  border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>返回一个数组</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'> .controller.php</span><span
							style='font-size:10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>类名为</span><span
							 style='font-size:10.5pt'>C+</span><span style='font-size:10.5pt'>大驼峰</span><span
							 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>例</span><span
							 style='font-size:10.5pt'>: CUser </span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>业务逻辑</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.model.php</span><span style='font-size:
  10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>类名为</span><span
							 style='font-size:10.5pt'>M+</span><span style='font-size:10.5pt'>大驼峰</span><span
							 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>例</span><span
							 style='font-size:10.5pt'>:MUser</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>视图</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.tpl</span><span style='font-size:10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>编译后的视图</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.php</span><span style='font-size:10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>&nbsp;</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架代码</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.system.php</span><span style='font-size:
  10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>类名为</span><span
							 style='font-size:10.5pt'>S+</span><span style='font-size:10.5pt'>大驼峰</span><span
							 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>例</span><span
							 style='font-size:10.5pt'>:SMysql</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>表对象</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.table.php</span><span style='font-size:
  10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>类名为</span><span
							 style='font-size:10.5pt'>T+</span><span style='font-size:10.5pt'>大驼峰</span><span
							 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>例</span><span
							 style='font-size:10.5pt'>:TUser</span></p>
			</td>
		</tr>
		<tr>
			<td width=106 valign=top style='width:79.5pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>行对象</span></p>
			</td>
			<td width=194 valign=top style='width:145.65pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件名以</span><span
							 style='font-size:10.5pt'>.record.php</span><span style='font-size:
  10.5pt'>结尾</span></p>
			</td>
			<td width=189 valign=top style='width:141.9pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>类名为</span><span
							 style='font-size:10.5pt'>R+</span><span style='font-size:10.5pt'>大驼峰</span><span
							 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>例</span><span
							 style='font-size:10.5pt'>:RUser</span></p>
			</td>
		</tr>
	</table>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335787"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(六)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>系统常量</span></a></h2>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架尽可能减少全局常量的数量</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开发人员可以使用到的只有一个</span></p>

	<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
		   style='margin-left:24.0pt;border-collapse:collapse;border:none'>
		<tr>
			<td width=84 valign=top style='width:62.95pt;border:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>DIR_ROOT </span></p>
			</td>
			<td width=110 valign=top style='width:82.45pt;border:solid #A3A3A3 1.0pt;
  border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本项目根目录</span></p>
			</td>
		</tr>
	</table>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335788"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(七)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>运行权限</span></a></h2>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架运行在</span><span
				 style='font-size:10.5pt'>Linux</span><span style='font-size:10.5pt'>操作系统下时</span><span
				 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>有一些目录需要赋予</span><span
				 style='font-size:10.5pt'>Web</span><span style='font-size:10.5pt'>服务器用户写权限</span><span
				 style='font-size:10.5pt'>(</span><span style='font-size:10.5pt'>递归</span><span
				 style='font-size:10.5pt'>)</span></p>

	<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
		   style='margin-left:24.0pt;border-collapse:collapse;border:none'>
		<tr>
			<td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>/run</span></p>
			</td>
			<td width=265 valign=top style='width:198.6pt;border:solid #A3A3A3 1.0pt;
  border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>系统运行期产生的日志和编译后的视图</span></p>
			</td>
		</tr>
		<tr>
			<td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>/Public/Static/cache</span></p>
			</td>
			<td width=265 valign=top style='width:198.6pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>脚本缓存目录</span></p>
			</td>
		</tr>
		<tr>
			<td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
  border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span
																  style='font-size:10.5pt'>/</span><span style='font-size:10.5pt'>public/upload</span></p>
			</td>
			<td width=265 valign=top style='width:198.6pt;border-top:none;border-left:
  none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
  padding:4.0pt 4.0pt 4.0pt 4.0pt'>
				<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>用户上传文件的目录</span></p>
			</td>
		</tr>
	</table>

	<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
				name="_Toc486335789"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>三、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>架构</span></a></h1>

	<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
				>包括自动加载，入口文件，<span>url</span>访问设计等框架特点</span></p>

	<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335790"><span
					 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(一)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
					style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>架构总览</span></a></h2>

	<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
															 style='line-height:173%;font-family:宋体;font-weight:normal'>1.<span
					style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
				style='line-height:173%;font-family:宋体;font-weight:normal'>开发模式</span><span
				 style='line-height:173%;font-family:宋体;font-weight:normal'>:</span></h3>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架基于</span><span
				 style='font-size:10.5pt'> MVC(</span><span style='font-size:10.5pt'>模型</span><span
				 style='font-size:10.5pt'>-</span><span style='font-size:10.5pt'>视图</span><span
				 style='font-size:10.5pt'>-</span><span style='font-size:10.5pt'>控制器</span><span
				 style='font-size:10.5pt'>)</span><span style='font-size:10.5pt'>的开发模式</span><span
				 style='font-size:10.5pt'>.</span><span style='font-size:
10.5pt'> M(Model),</span><span style='font-size:10.5pt'>模型是程序中用来处理业务逻辑的代码<span
					>;C(Controller),</span>控制器是程序中用来控制程序运行流程的代码<span>;V(View),</span>视图是程序中用来表现输出的代码<span
					>.</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>模型类统一存放在<span>/program/model</span>目录下<span
					>,</span>供所有控制器类调用<span>;</span>控制器类统一存放在<span>/program/controller</span>目录下<span
					>;</span>视图文件统一存放在<span>/program/view</span>目录下<span
					>.</span></span></p>

	<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
															 style='line-height:173%;font-family:宋体;font-weight:normal'>2.<span
					style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
				style='line-height:173%;font-family:宋体;font-weight:normal'>单一入口<span
					>:</span></span></h3>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架采用单一入口模式<span
					>,</span>所有请求都经由<span> /Public/index.php </span>进入框架统一处理<span
					>.</span></span></p>

	<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
															 style='line-height:173%;font-family:宋体;font-weight:normal'>3.<span
					style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
				style='line-height:173%;font-family:宋体;font-weight:normal'>模块<span>:</span></span></h3>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架支持在一个项目内包含多个业务模块<span
					>(Module),</span>如前台用户操作模块<span>,</span>后台管理模块<span
					>,</span>对外<span>API</span>接口模块等<span>;</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>每个模块单独在<span>/program/module</span>目录下建立单独目录<span
					>,</span>并创建模块所属的模型目录<span>(model),</span>控制器目录<span
					>(controller),</span>以及视图目录<span>(view).</span></span></p>

	<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
															 style='line-height:173%;font-family:宋体;font-weight:normal'>4.<span
					style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
				style='line-height:173%;font-family:宋体;font-weight:normal'>控制器<span>:</span></span></h3>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器主要负责接收请求参数<span
					>,</span>对参数进行检查并根据参数的要求调用不同的模型来进行业务逻辑处理<span>,</span>得到需要的数据后<span
					>,</span>再通过视图进行输出<span>.</span>本框架中的所有控制器需要继承<span
					>SController</span>基类<span>,</span>示例如下<span>:</span></span></p>

	<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img width=430 height=384 id="图片 5"
											 src="/Static/admin/document/image004.png"
											 alt="说明: 说明: 计算机生成了可选文字: ClaSSClnde义eltendsSCOntT0lleT&#10;p汕iicfunctionho,e()&#10;{&#10;官刀调用醚获十括&#10;$data二树，er::info'$this一＞已etld());&#10;刀通过视图输出&#10;displ盯（,Iindex,ho一e,,[,data’二＞$data])"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>动作<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>一个控制器包含多个动作<span
>(Action),</span>动作是具体处理一次<span>Web</span>请求的程序<span
>;</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>上图中的动作<span>home</span>即是从请求中获取一个<span
>id</span>参数<span>,</span>并根据<span>ID</span>获取用户信息并显示的例子<span
>;</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>动作中使用控制器基类的方法来获取参数</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>同时对参数进行安全性和合法性检查</span><span
 style='font-size:10.5pt'>.</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>模型<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>模型类完成数据访问和数据封装<span
>,</span>也可完成其他性质的业务逻辑处理<span>,</span>如与第三方对接等业务逻辑<span
>.</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>视图<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>动作在通过模型获取数据后<span
>,</span>会调用视图来输出这些数据<span>.</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架的视图采用轻量级模板方法设计<span
>,</span>具体功能在文档的视图部分进行描述<span>.</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>路由<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>所有请求统一由路由程序进行解析并分配给相应的控制器中的动作进行处理</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>同时视图中的所有链接地址也应由路由程序进行统一编码<span
>,</span>以便业务中更改路由规则<span>.</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>命名空间<span
>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架为便于与项目中其他框架代码配合<span
>,</span>未使用命名空间<span>,</span>也即只使用了全局命名空间<span
>.</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335791"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(二)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>生命周期</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>一个浏览器端请求到达</span><span
 style='font-size:10.5pt'>Web</span><span style='font-size:10.5pt'>服务器后</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>要经历以下步骤</span><span
 style='font-size:10.5pt'>:</span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>入口文件 </span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架是单一入口模式<span
>,</span>用户发起的所有请求都会经过统一的入口文件<span>/Public/index.php.</span></span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>框架核心类</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架核心类</span><span
 style='font-size:10.5pt'>Frame,</span><span style='font-size:10.5pt'>定义在文件</span><span
 style='font-size:10.5pt'>/system/Frame.php</span><span
style='font-size:10.5pt'>中</span><span style='font-size:10.5pt'>,</span><span
style='font-size:10.5pt'>对整个框架进行初始化准备</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:49.6pt;
margin-bottom:.0001pt;text-indent:-1.0cm'><span style='font-size:
10.5pt'>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.5pt'>防止重复导入</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img width=573 height=169 id="图片 4"
src="/Static/admin/document/image005.png"
alt="说明: 说明: 计算机生成了可选文字: /／防止重复包含移架&#10;if(defined(,IcE一即－P剐妞正，oRK'))&#10;retuln;&#10;刀这个常免不会彼使月的&#10;define',IcE一即一P剐u压，o肛，,'byIceiiyong知enu.e血．cnQQ:31005055"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:49.6pt;
margin-bottom:.0001pt;text-indent:-1.0cm'><span style='font-size:
10.5pt'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
 style='font-size:10.5pt'>PHP</span><span style='font-size:10.5pt'>版本检查</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img width=365 height=100 id="图片 3"
src="/Static/admin/document/image006.png"
alt="说明: 说明: 计算机生成了可选文字: 刀版本检互至少要求5.5&#10;if〔尸月，一vE双510,&lt;'5.5,){&#10;exit(,PHPversion一st5.5atleast,"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:49.6pt;
margin-bottom:.0001pt;text-indent:-1.0cm'><span style='font-size:
10.5pt'>2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.5pt'>框架初始化</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:81.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>此处会定义本框架的自动加载规则</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>系统时区</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>引入全局函数</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开启错误消息显示及输出缓冲区</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>记录请求开始时间</span><span
 style='font-size:10.5pt'>;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img width=407 height=384 id="图片 2"
src="/Static/admin/document/image007.jpg"
alt="说明: 说明: 计算机生成了可选文字: 三全全一万宁呀艺&#10;self::autoloadAdjust()&#10;不全二二甲&#10;date_default_ti爪e:one_set(,P就，&#10;//5.l人所有全局函戴在当前目录下的cole目录下&#10;re妙ire_once(DIRROOT.'s了ste二Icorelglobal.function.phP,&#10;/／诃试状戒显示所有错误&#10;if(isnebug()){&#10;～。I--lePoltlng〔卫止盛工L｝几s探IcT);&#10;反n豆＿set('dispiay一errors',i)'&#10;}&#10;/／开会运开输出缓存&#10;if(!isCli执ode()){&#10;self::sossionstart()&#10;ob--start();&#10;}&#10;三是二石厂行夕乡&#10;SDebug::start()"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:49.6pt;
margin-bottom:.0001pt;text-indent:-1.0cm'><span style='font-size:
10.5pt'>2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.5pt'>框架运行</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:81.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>获取请求参数</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>根据请求参数进行路由转换</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>并进行派发</span><span
 style='font-size:10.5pt'>;</span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>控制器<span>/</span>动作</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>框架核心类会根据请求参数中的</span><span
style='font-size:10.5pt'> </span><span style='font-size:10.5pt'>控制器参数和动作参数</span><span
style='font-size:10.5pt'> </span><span style='font-size:10.5pt'>将控制权转给开发人员编写的控制器</span><span
 style='font-size:10.5pt'>(Controller)</span><span style='font-size:
10.5pt'>类中的动作</span><span style='font-size:10.5pt'>(Action)</span><span
style='font-size:10.5pt'>方法</span><span style='font-size:10.5pt'>;</span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>模型</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器会调用模型类来访问数据库或执行其他业务逻辑</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>并得到相应</span><span
style='font-size:10.5pt'> </span><span style='font-size:10.5pt'>的数据</span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>视图</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器会将要显示的数据传递给视图</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>视图负责显示用户得到的响应</span><span
 style='font-size:10.5pt'>;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335792"><span
 style='line-height:173%;font-family:宋体;font-weight:normal'>(三)</span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>入口文件</span></a><span
style='line-height:173%;font-family:宋体;font-weight:normal'> </span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span><img width=452 height=294 id="图片 1"
src="/Static/admin/document/image008.png"
alt="说明: 说明: 计算机生成了可选文字: &lt;?p坤&#10;户眯&#10;＊槽架统一入口&#10;〕＊/&#10;刀定义穆架研有目录常免就在当前目录的上一红例：份川叨加样乒&#10;def:n。（,niResRooT'，由rn．。（＿刀刀贬一）.'I'）二&#10;/／导人穆架类&#10;re妙ire_once（刀工R二双oor.'syste一八r.e.syste一php,&#10;/／运行穆架&#10;S介抓e:：工un()"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>入口文件中定义了一个框架全局常量<span
>,DIR_ROOT,</span>用于记录项目根目录<span>;</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本文件不建议开发人员进行更改<span
>.</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335793"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(四)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>URL</span></a><span style='font-size:12.0pt;line-height:173%;
font-family:宋体;font-weight:normal'>访问</span></h2>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
 style='line-height:173%;font-family:宋体;font-weight:normal'>URL</span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>设计</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>默认情况下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>本框架的</span><span
 style='font-size:10.5pt'>URL</span><span style='font-size:10.5pt'>访问规则如下</span><span
 style='font-size:10.5pt'>:</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>http(s)://&lt;</span><span
style='font-size:10.5pt'>域名或<span>IP&gt;/?c=&lt;</span>控制器名<span
>&gt;&amp;a=&lt;</span>动作名<span>&gt;&amp;&lt;</span>参数名<span
>&gt;=&lt;</span>参数值<span>&gt;</span>…</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>命令行模式的访问规则如下<span
>:</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&gt;php
/system/program.php &quot;c=&lt;</span><span style='font-size:10.5pt'>控制器名<span
>&gt;&amp;a=&lt;</span>动作名<span>&gt;&amp;&lt;</span>参数名<span
>&gt;=&lt;</span>参数值<span>&gt;</span>…<span>&quot;</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>如果在系统配置文件中设置<span
>url_mode</span>为路径模式<span>(</span>默认为传统模式<span
>),</span>则<span>,Web</span>访问规则如下<span>:</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>http(s)://&lt;</span><span
style='font-size:10.5pt'>域名或<span>IP&gt;/&lt;</span>控制器名<span
>&gt;/&lt;</span>动作名<span>&gt;/&lt;</span>参数名<span
>&gt;/&lt;</span>参数值<span>&gt;/</span>…</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>命令行模式的访问规则如下<span
>:</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&gt;php
/system/program.php &quot;&lt;</span><span style='font-size:10.5pt'>控制器名<span
>&gt;/&lt;</span>动作名<span>&gt;/&lt;</span>参数名<span
>&gt;/&lt;</span>参数值<span>&gt;</span>…<span>&quot;</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>路径模式下<span>,</span>也可使用普通的<span
>GET</span>方式进行传值<span>,</span>如下<span>:</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>http(s)://&lt;</span><span
style='font-size:10.5pt'>域名或<span>IP&gt;/&lt;</span>控制器名<span
>&gt;/&lt;</span>动作名<span>&gt;/?&lt;</span>参数名<span
>&gt;=&lt;</span>参数值<span>&gt;&amp;</span>…</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
 style='line-height:173%;font-family:宋体;font-weight:normal'>URL</span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>大小写</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>URL</span><span
style='font-size:10.5pt'>中的控制器名</span><span style='font-size:10.5pt'>,</span><span
style='font-size:10.5pt'>动作名是不区分大小写的</span><span style='font-size:
10.5pt'>,</span><span style='font-size:10.5pt'>但参数名是区分大小写的</span><span
 style='font-size:10.5pt'>.</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>隐藏入口文件</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架默认支持隐藏入口文件<span
>,URL</span>中不需要写明入口文件<span> index.php</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335794"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(五)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>模块设计</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架支持多模块设计</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>同时支持单一模块设计</span><span
 style='font-size:10.5pt'>.</span><span style='font-size:10.5pt'>所有模块文件放置在</span><span
 style='font-size:10.5pt'>program/module</span><span
style='font-size:10.5pt'>目录下</span></p>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>目录结构</span></h3>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:50.9pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>icePHP&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>整个项目</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>├─<span
 >program</span></span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>开发人员编写的代码</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>├─</span><span
  style='font-size:10.5pt'>module</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>项目模块目录</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>├─</span><span style='font-size:10.5pt'>front</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>前台模块</span><span
  style='font-size:10.5pt'>(</span><span style='font-size:10.5pt'>名字自定义</span><span
  style='font-size:10.5pt'>)</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>│</span><span style='font-size:10.5pt'>&nbsp;&nbsp; </span><span
  style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>controller</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本模块的控制器</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>│</span><span style='font-size:10.5pt'>&nbsp;&nbsp; </span><span
  style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>model</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本模块的模型</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>│</span><span style='font-size:10.5pt'>&nbsp;&nbsp; </span><span
  style='font-size:10.5pt'>├─</span><span style='font-size:10.5pt'>config</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本模块的配置文件</span><span
  style='font-size:10.5pt'> </span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>│</span><span style='font-size:10.5pt'>&nbsp;&nbsp; </span><span
  style='font-size:10.5pt'>└─</span><span style='font-size:10.5pt'>view</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本模块的视图文件</span><span
  style='font-size:10.5pt'> </span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>├─</span><span style='font-size:10.5pt'>admin</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>后台模块</span><span
  style='font-size:10.5pt'>(</span><span style='font-size:10.5pt'>名字自定义</span><span
  style='font-size:10.5pt'>)</span></p>
  </td>
 </tr>
 <tr>
  <td width=206 valign=top style='width:154.45pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>│&nbsp; </span><span style='font-size:10.5pt'>│</span><span
  style='font-size:10.5pt'>&nbsp; </span><span style='font-size:
10.5pt'>└─</span><span style='font-size:10.5pt'>…</span></p>
  </td>
  <td width=160 valign=top style='width:120.3pt;border:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>其他模块</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:42.0pt;text-indent:-21.0pt'><span
style='line-height:173%;font-family:宋体;font-weight:normal'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
 style='line-height:173%;font-family:宋体;font-weight:normal'>URL</span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>访问</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>使用模块的情况下</span><span
 style='font-size:10.5pt'>,URL</span><span style='font-size:10.5pt'>访问地址依旧遵循系统配置文件的路由模式参数管理</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>传统模式下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>访问地址如下</span><span
 style='font-size:10.5pt'>:</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:81.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>http(s)://&lt;</span><span
style='font-size:10.5pt'>域名或<span>IP&gt;/?m=&lt;</span>模块名<span
>&gt;&amp;c=&lt;</span>控制器名<span>&gt;&amp;a=&lt;</span>动作名<span
>&gt;&amp;&lt;</span>参数名<span>&gt;=&lt;</span>参数值<span
>&gt;</span>…</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>路径模式下<span>,</span>访问地址如下<span
>:</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:81.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>http(s)://&lt;</span><span
style='font-size:10.5pt'>域名或<span>IP&gt;/&lt;</span>模块名<span
>&gt;/&lt;</span>控制器名<span>&gt;/&lt;</span>动作名<span
>&gt;/&lt;</span>参数名<span>&gt;/&lt;</span>参数值<span
>&gt;</span>…</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335795"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(六)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='line-height:173%;font-family:宋体;font-weight:normal'>命名空间</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架为便于与项目中其他框架代码配合<span
>,</span>未使用命名空间<span>,</span>也即只使用了全局命名空间<span
>.</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335796"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(七)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>自动加载</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架内的系统类</span><span
 style='font-size:10.5pt'>(S</span><span style='font-size:10.5pt'>开头</span><span
 style='font-size:10.5pt'>),</span><span style='font-size:10.5pt'>控制器类</span><span
 style='font-size:10.5pt'>(C</span><span style='font-size:10.5pt'>开头</span><span
 style='font-size:10.5pt'>),</span><span style='font-size:10.5pt'>模型类</span><span
 style='font-size:10.5pt'>(M</span><span style='font-size:10.5pt'>开头</span><span
 style='font-size:10.5pt'>),</span><span style='font-size:10.5pt'>表对象类</span><span
 style='font-size:10.5pt'>(T</span><span style='font-size:10.5pt'>开头</span><span
 style='font-size:10.5pt'>),</span><span style='font-size:10.5pt'>行对象类</span><span
 style='font-size:10.5pt'>(R</span><span style='font-size:10.5pt'>开头</span><span
 style='font-size:10.5pt'>)</span><span style='font-size:10.5pt'>都会自动加载</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>如果当前模块为空<span>,</span>则只查找公用目录。控制器类会优先从当前模块根目录下寻找。再在当前模块的控制器目录下查找。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:21.0pt;
margin-bottom:.0001pt;text-indent:5.25pt'><a name="_Toc486335797"><span
style='font-size:10.5pt'>如果当前模块为空<span>,</span>则只查找公用目录。再在当前模块的控制器目录下查找。</span></a></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>(八)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>API</span><span style='font-size:12.0pt;line-height:173%;font-family:
宋体;font-weight:normal'>友好</span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>控制器中简化了</span><span
 style='font-size:10.5pt'>API</span><span style='font-size:10.5pt'>响应的处理</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>$</span><span
 style='font-size:10.5pt'>this-&gt;ok($data); </span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>//</span><span
style='font-size:10.5pt'>输出<span>Json</span>成功响应</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>{&quot;status&quot;:&quot;success&quot;,&quot;success&quot;:true,&quot;error&quot;:false,&quot;data&quot;:&quot;</span><span
style='font-size:10.5pt'>成功数据<span>&quot;,&quot;msg&quot;:&quot;</span>操作成功<span
>&quot;,&quot;errorCode&quot;:0}</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>$this-&gt;error($data);&nbsp;
</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>//</span><span
style='font-size:10.5pt'>输出</span><span style='font-size:10.5pt'>Json</span><span
style='font-size:10.5pt'>错误响应</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>{&quot;status&quot;:&quot;error&quot;,&quot;success&quot;:false,&quot;error&quot;:true,&quot;msg&quot;:&quot;</span><span
style='font-size:10.5pt'>失败消息<span>&quot;,&quot;errorCode&quot;:1,&quot;data&quot;:&quot;&quot;}</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335798"><span
 style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:
normal'>(九)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;line-height:173%;font-family:宋体;font-weight:normal'>错误调试</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>在系统配置</span><span
 style='font-size:10.5pt'>(</span><span style='font-size:
10.5pt'>system.config.php)</span><span style='font-size:10.5pt'>中启用调试模式<span
>(<span style='color:green;background:#F7FAFF'>'config'</span><span
style='color:black;background:#F7FAFF'>=&gt;</span><span style='color:green;
background:#F7FAFF'>'debug'</span><span style='color:black;background:#F7FAFF'>)</span>,</span>在页面或<span
>JSON</span>输出中会包含调试信息</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>如</span><span >:</span><span
>所执行的</span><span >SQL</span><span
>语句</span><span >,</span><span
>用时</span><span >,</span><span
>内存使用等信息</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335799"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>四、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>配置</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>包括配置文件，配置格式，配置内容，环境变量，作用域等。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-family:宋体;background:white'>提供了灵活的全局配置功能，采用最有效率的<span>PHP</span>返回数组方式定义，方便配置数据库<span
>/</span>语言<span>/</span>日志<span>/</span>邮箱<span
>/</span>支付方式<span>/</span>路由<span>/</span>上传<span
>/</span>字符集等等基本功能。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335800"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>配置目录</span></a></h2>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>├─application&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>应用目录</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; ├─program/config</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─anti.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>防入侵配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─authority.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>权限配置配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─filter.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>敏感词配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─language.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>多语言配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─log.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>日志配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─route.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>路由配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ ├─debug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>调试模式数据库配置文件目录</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>│&nbsp; │ │&nbsp; ├─database.config<span
style='color:#C82829'>.php</span>&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.0pt;font-family:宋体'>数据库配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7'><span style='font-size:10.0pt;
font-family:宋体'>│&nbsp; │ │&nbsp; ├─mongo.config<span style='color:#C82829'>.php</span>&nbsp;
mongo</span><span style='font-size:10.0pt;font-family:宋体'>数据库配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7'><span style='font-size:10.0pt;
font-family:宋体'>│&nbsp; │ │&nbsp; ├─filecache.config<span style='color:#C82829'>.php</span>&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>文件缓存配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7'><span style='font-size:10.0pt;
font-family:宋体'>│&nbsp; │ │&nbsp; └─mem.config<span style='color:#C82829'>.php</span>&nbsp;
</span><span style='font-size:10.0pt;font-family:宋体'>缓存配置文件</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335801"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>配置格式</span></a></h2>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>//</span><span style='font-size:10.0pt;
font-family:宋体'>项目配置文件</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>return [</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:19.5pt;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>'_requestKey'=&gt;'_l',</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:19.5pt;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>'_valid'=&gt;['en', 'en'],</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>];</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335802"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
style='font-family:宋体;font-weight:normal'>读取配置</span></a></h2>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>echo config(‘fileName’,’parameter’);</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335803"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>五、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>路由</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>路由模式，设置，参数等</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335804"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>路由模式</span></a></h2>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >配置文件<span>System.config.php</span>中可设置<span
>url</span>表现模式<span>(url_mode)</span>，分为<span>’</span>传统模式<span
>’/’</span>路径模式<span>’</span>。</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >传统模式格式为：<span>index.php?m=Module&amp;c=Controller&amp;a=Action</span></span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >路径模式格式为：<span>Domain/Module/Controller/Action/</span>参数<span
>/</span>值<span>/</span>参数<span>/</span>值<span
>/</span>参数<span>/</span>值<span>…</span></span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >该配置文件中也可配置默认模块<span>(default_module)/</span>控制器<span
>(default_controller)/</span>动作<span>(default_action)</span>。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335805"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>路由自定义</span></a></h2>

<p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
>配置文件<span>router.config.php</span>中可配置自定义命名路由，例：</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>'</span><span style='font-size:10.0pt;
font-family:宋体'>登录页<span>' =&gt; [</span></span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
'decode' =&gt; ['/^login(\.html)?$/', 'home/login'],</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
'encode' =&gt; ['', 'home', 'login', '/login.html']</span></p>

<p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>&nbsp;&nbsp;&nbsp; ],</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335806"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
 style='font-family:宋体;font-weight:normal'>URL</span></a><span
style='font-family:宋体;font-weight:normal'>生成</span></h2>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >支持路由<span>URL</span>地址的统一生成，并且支持所有的路由方式，完美解决了路由地址的反转解析，无需再为路由定义和变化而改变<span
>URL</span>生成。</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >URL</span><span
>生成使用<span>url</span>方法形如<span>url(‘Module’,’Controller’,’Action’,Param[]),</span>详见<span
>system/core/global.function.php</span>。</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335807"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>六、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>控制器</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>定义，初始化，跳转，重定向等</span></p>

<p class=MsoNormal><span >控制器定义</span></p>

<p class=MsoNormal><span >icePHP </span><span
>的控制器定义比较灵活，只需继承<span>SController</span>基类即可。</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335808"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>控制器定义</span></a></h2>

<p class=MsoNormal><span >一个典型的控制器类定义如下：</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>class CIndex
extends SController</span></p>

<p class=MsoNormal><span >{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; <span
style='color:#8959A8'>public</span> <span style='color:#8959A8'>function</span>
<span style='color:#4271AE'>index</span><span style='color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style='color:#8959A8'>return</span> <span style='color:#718C00'>'index'</span>;</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal><span >}</span></p>

<p class=MsoNormal><span >控制器类文件的实际位置是</span></p>

<p class=MsoNormal><span >\program\module\</span><span
>模块名称<span>\controller\Index.php</span></span></p>

<p class=MsoNormal><span >控制器类必须继承<span>SController</span>基类</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >渲染输出</span></p>

<p class=MsoNormal><span >默认情况下，控制器的输出全部采用</span><span
 >dump()</span><span >的方式来输出，系统渲染内容的输出使用
<span>display() </span>。</span></p>

<p class=MsoNormal><span >下面都是有效的输出方式：</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>namespace</span><span
 > <span style='color:#4271AE'>app</span>\<span
style='color:#4271AE'>index</span>\<span style='color:#4271AE'>controller</span>;</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>class</span><span
 > <span style='color:#4271AE'>Index</span> </span></p>

<p class=MsoNormal><span >{</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; <span
style='color:#8959A8'>public</span> <span style='color:#8959A8'>function</span>
<span style='color:#4271AE'>hello</span><span style='color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style='color:#8959A8'>dump(</span><span style='color:#718C00'>'hello,world!'</span><span
style='color:#8959A8'>)</span>;</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; <span
style='color:#8959A8'>public</span> <span style='color:#8959A8'>function</span>
<span style='color:#4271AE'>json</span><span style='color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style='color:#8959A8'>dump(</span>json_encode($data)<span
style='color:#8959A8'>)</span>;</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; <span
style='color:#8959A8'>public</span> <span style='color:#8959A8'>function</span>
<span style='color:#4271AE'>read</span><span style='color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; {</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;<span style='color:#8959A8'>display()</span>;</span></p>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; }</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >}</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335809"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>控制器初始化</span></a></h2>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >创建控制器 并继承<span>SController</span>基类
创建方法并执行即可</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >例如：</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>class CIndex
extends SController</span></p>

<p class=MsoNormal><span >{</span></p>

<p class=MsoNormal><span >&nbsp; </span></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; </span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; </span></code><span
class=hljs-keyword><span style='font-family:宋体;color:#8959A8'>public</span></span><code><span
> </span></code><span class=hljs-keyword><span
style='font-family:宋体;color:#8959A8'>function</span></span><span
class=hljs-function><span > </span></span><span
class=hljs-title><span style='font-family:宋体;color:#4271AE'>hello</span></span><span
class=hljs-params><span style='font-family:宋体;color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span class=hljs-function><span style='font-family:
宋体'>&nbsp;&nbsp;&nbsp; </span></span><code><span>{</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>echo</span></span><code><span> </span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'hello'</span></span><code><span
>;</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; }</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; </span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; </span></code><span
class=hljs-keyword><span style='font-family:宋体;color:#8959A8'>public</span></span><code><span
> </span></code><span class=hljs-keyword><span
style='font-family:宋体;color:#8959A8'>function</span></span><span
class=hljs-function><span > </span></span><span
class=hljs-title><span style='font-family:宋体;color:#4271AE'>data</span></span><span
class=hljs-params><span style='font-family:宋体;color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span class=hljs-function><span style='font-family:
宋体'>&nbsp;&nbsp;&nbsp; </span></span><code><span>{</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>echo</span></span><code><span> </span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'data'</span></span><code><span
>;</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; }</span></code></p>

<p class=MsoNormal><span >}</span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span >如果访问<span><br>
</span></span><span><a
href="http://localhost/index.php/index/Index/hello"><span style='font-family:
宋体;color:#4183C4'>http://localhost/index.php/index/Index/hello</span></a></span></p>

<p class=MsoNormal><span >会输出</span></p>

<p class=MsoNormal><span class=hljs-attribute><span
style='font-family:宋体;color:#EAB700'>hello</span></span></p>

<p class=MsoNormal><span >如果访问<span><br>
</span></span><span><a
href="http://localhost/index.php/index/Index/data"><span style='font-family:
宋体;color:#4183C4'>http://localhost/index.php/index/Index/data</span></a></span></p>

<p class=MsoNormal><span >会输出</span></p>

<p class=MsoNormal><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>data</span></span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335810"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
style='font-family:宋体;font-weight:normal'>跳转和重定向</span></a></h2>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >页面跳转</span></p>

<p class=MsoNormal><span >在应用开发中，经常会遇到一些带有提示信息的跳转页面，例如操作成功或者操作错误页面，并且自动跳转到另外一个目标页面。系统的</span><code><span
 style='background:#F7F7F7'>SController</span></code><span
>类内置了两个跳转方法</span><code><span
style='background:#F7F7F7'>ok</span></code><span >和</span><code><span
 style='background:#F7F7F7'>error</span></code><span
>，用于页面跳转提示。</span></p>

<p class=MsoNormal><span >使用方法很简单，举例如下：</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#8959A8'>class CIndex
extends SController</span></p>

<p class=MsoNormal><code><span>{</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; </span></code><span
class=hljs-keyword><span style='font-family:宋体;color:#8959A8'>public</span></span><code><span
> </span></code><span class=hljs-keyword><span
style='font-family:宋体;color:#8959A8'>function</span></span><span
class=hljs-function><span > </span></span><span
class=hljs-title><span style='font-family:宋体;color:#4271AE'>index</span></span><span
class=hljs-params><span style='font-family:宋体;color:#F5871F'>()</span></span></p>

<p class=MsoNormal><span class=hljs-function><span style='font-family:
宋体'>&nbsp;&nbsp;&nbsp; </span></span><code><span>{</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$User = </span></code><span class=hljs-keyword><span
style='font-family:宋体;color:#8959A8'>new</span></span><code><span>
User; </span></code><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>//</span></span><span class=hljs-comment><span
style='font-family:宋体;color:#8E908C'>实例化<span>User</span>对象</span></span></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$result = $User-&gt;save($data); </span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>if</span></span><code><span>($result){</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>//</span></span><span class=hljs-comment><span
style='font-family:宋体;color:#8E908C'>设置成功后跳转页面的地址，默认的返回页面是<span>$_SERVER['HTTP_REFERER']</span></span></span></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>$this</span></span><code><span>-&gt;ok(</span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'</span></span><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>新增成功<span
>'</span></span></span><code><span>, </span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'url'</span></span><code><span
>);</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
} </span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>else</span></span><code><span> {</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>//</span></span><span class=hljs-comment><span
style='font-family:宋体;color:#8E908C'>错误页面的默认跳转页面是返回前一页，通常不需要设置</span></span></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></code><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>$this</span></span><code><span>-&gt;error(</span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'</span></span><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>新增失败<span
>'</span></span></span><code><span>);</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</span></code></p>

<p class=MsoNormal><code><span>&nbsp;&nbsp;&nbsp; }</span></code></p>

<p class=MsoNormal><code><span>}</span></code></p>

<p class=MsoNormal><span >跳转地址是可选的，<span>ok error</span>方法的默认跳转地址是如果用<i><span
 style='color:gray;background:#F7FAFF'>setBack() &nbsp;</span></i></span></p>

<p class=MsoNormal><span style='font-family:宋体;color:black'>设置了返回链接则返回设置的链接 否则返回当前页面</span><span
 style='font-family:宋体;color:#660000;background:#F7FAFF'>$_SESSION</span><span
 style='font-family:宋体;color:black;background:#F7FAFF'>[</span><span
 style='font-family:宋体;color:green;background:#F7FAFF'>'BACKURL'</span><span
 style='font-family:宋体;color:black;background:#F7FAFF'>]</span><span
>。</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:black'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#5BC0DE'>Ok error</span><span
style='font-family:宋体;color:#5BC0DE'>方法会自动判断当前请求是否属于</span><code><span
 style='color:#5BC0DE;background:#F7F7F7'>Ajax</span></code><span
style='font-family:宋体;color:#5BC0DE'>请求，如果属于</span><code><span
style='color:#5BC0DE;background:#F7F7F7'>Ajax</span></code><span
style='font-family:宋体;color:#5BC0DE'>请求则会自动转换为</span><code><span
style='color:#5BC0DE;background:#F7F7F7'>default_ajax_return</span></code><span
style='font-family:宋体;color:#5BC0DE'>配置的格式返回信息。 </span></p>

<p class=MsoNormal><span >重定向</span></p>

<p class=MsoNormal><code><span style='background:#F7F7F7'>SController</span></code><span
>类的</span><code><span style='background:#F7F7F7'>redirect</span></code><span
>方法可以实现页面的重定向功能。</span></p>

<p class=MsoNormal><span >redirect</span><span
>方法的参数用法和</span><code><span style='background:
#F7F7F7'>Url::build</span></code><span >方法的用法一致（参考</span><span
><a href="https://www.kancloud.cn/manual/thinkphp5/118041"
target="_blank"><span style='font-family:宋体;color:#4183C4'>URL</span><span
 style='font-family:宋体;color:#4183C4'><span>生成</span></span></a></span><span
>部分），例如：</span></p>

<p class=MsoNormal><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>//url </span></span><span class=hljs-comment><span
style='font-family:宋体;color:#8E908C'>位置为所要跳转到的链接</span></span></p>

<p class=MsoNormal><span class=hljs-keyword><span style='font-family:
宋体;color:#8959A8'>$this</span></span><code><span>-&gt;redirect(</span></code><span
class=hljs-string><span style='font-family:宋体;color:#718C00'>'model',
'controller', 'index',</span></span><code><span>);</span></code></p>

<p class=MsoNormal><span >上面的用法是跳转到某一方法的操作，重定向后会改变当前的<span
>URL</span>地址。</span></p>

<p class=MsoNormal><span >或者直接重定向到一个指定的外部<span
>URL</span>地址，例如：</span></p>

<p class=MsoNormal><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>//</span></span><span class=hljs-comment><span
style='font-family:宋体;color:#8E908C'>重定向到指定的<span>URL</span>地址</span></span></p>

<p class=MsoNormal><code><span>$</span></code><span
class=hljs-keyword><span style='font-family:宋体;color:#8959A8'>this</span></span><code><span
>-&gt;redirect(</span></code><span class=hljs-string><span
 style='font-family:宋体;color:#718C00'>'http://thinkphp.cn/blog/2'</span></span><code><span
>);</span></code></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335811"><span
 style='font-family:宋体;font-weight:normal'>(四)</span><span
style='font-family:宋体;font-weight:normal'>获取请求参数</span></a></h2>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >框架中定义了一些接收参数的函数 并做了参数检查。<span
><br>
<br>
</span></span></p>

<p class=MsoNormal><span style='font-family:宋体;color:#777777'>当然，最方便的还是使用注入请求对象的方式来获取变量。</span></p>

<p class=MsoNormal><span >例如：</span></p>

<p class=MsoNormal><span><img border=0 width=554 height=420
id="图片 32" src="/Static/admin/document/image009.png"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=451
id="图片 31" src="/Static/admin/document/image010.jpg"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=406
id="图片 30" src="/Static/admin/document/image011.jpg"></span></p>

<p class=MsoNormal><span class=hljs-comment><span style='font-family:
宋体;color:#8E908C'>&nbsp;</span></span></p>

<p class=MsoNormal><span><img border=0 width=395 height=448
id="图片 33" src="/Static/admin/document/image012.png"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=479
id="图片 37" src="/Static/admin/document/image013.png"></span></p>

<p class=MsoNormal><span><img border=0 width=481 height=504
id="图片 38" src="/Static/admin/document/image014.png"></span></p>

<p class=MsoNormal><span class=hljs-string><span style='font-family:
宋体;color:#718C00'>&nbsp;</span></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=477
id="图片 39" src="/Static/admin/document/image015.png"><img border=0 width=528
height=470 id="图片 40" src="/Static/admin/document/image016.png"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=485
id="图片 41" src="/Static/admin/document/image017.png"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=446
id="图片 42" src="/Static/admin/document/image018.jpg"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=425
id="图片 43" src="/Static/admin/document/image019.jpg"></span></p>

<p class=MsoNormal><span><img border=0 width=449 height=235
id="图片 44" src="/Static/admin/document/image020.png"></span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span><img border=0 width=500 height=496
id="图片 45" src="/Static/admin/document/image021.png"></span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span><img border=0 width=554 height=467
id="图片 46" src="/Static/admin/document/image022.png"></span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span><img border=0 width=442 height=454
id="图片 47" src="/Static/admin/document/image023.png"></span></p>

<p class=MsoNormal><span><img border=0 width=488 height=281
id="图片 48" src="/Static/admin/document/image024.png"></span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span><img border=0 width=553 height=453
id="图片 49" src="/Static/admin/document/image025.jpg"></span></p>

<p class=MsoNormal><span><img border=0 width=554 height=246
id="图片 50" src="/Static/admin/document/image026.jpg"></span></p>

<p class=MsoNormal><code><span>&nbsp;</span></code></p>

<p class=MsoNormal><span><img border=0 width=554 height=503
id="图片 51" src="/Static/admin/document/image027.png"></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335812"><span
 style='font-family:宋体;font-weight:normal'>(五)</span><span
style='font-family:宋体;font-weight:normal'>函数传参说明：</span></a></h2>

<p class=MsoNormal><span class=hljs-string><span style='font-family:宋体;
color:#718C00'>以上所有函数除<span> must </span>外 都是必须参数<span>:</span></span></span><code><span
> name:</span></code><code>参数名称<span> must</span>：是否必须提供 其中<span
>getEnum</span>（）中的<span> array</span>参数的意思是 指定的范围</code></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335813"><span
 style='font-family:宋体;font-weight:normal'>(六)</span><span
style='font-family:宋体;font-weight:normal'>扩展</span></a></h2>

<p class=MsoNormal><span >现有扩展应用函数</span></p>

<p class=MsoNormal><i><span style='font-family:宋体;color:gray;
background:#F7FAFF'>//</span></i><i><span style='font-family:宋体;color:gray;
background:#F7FAFF'>此方法可能已经在别的框架中定义<span><br>
</span></span></i><span >if
(!function_exists('dump')) {<br>
<br>
&nbsp;&nbsp;&nbsp; /**<br>
&nbsp;&nbsp;&nbsp;&nbsp; * </span><span >以可读格式显示变量内容<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp; *<br>
&nbsp;&nbsp;&nbsp;&nbsp; * @param mixed $vars </span>变量<span>/</span>数组<span
>/...<br>
&nbsp;&nbsp;&nbsp;&nbsp; * @param string $label </span>变量名称<span>(</span>可省略<span
>)<br>
&nbsp;&nbsp;&nbsp;&nbsp; * @param boolean $return </span>返回而不是显示<span
>(</span>默认是显示<span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp; * @return string<br>
&nbsp;&nbsp;&nbsp;&nbsp; */<br>
&nbsp;&nbsp;&nbsp; function dump($vars, $label = '', $return = false)<br>
&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>是否输出了<span>UTF8</span>头<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static $outHeader = 0;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>第一次要输出<span>UTF8</span>头<span
>,</span>以后就不输出了<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!$outHeader and !$return and
!isCliMode()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo
SController::$header;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $outHeader =
1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $debug = debug_backtrace();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $from = $debug[0];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $fromMsg = 'LINE:' . $from['line'] .
' FILE:' . $from['file'];<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Bool</span>变量<span>,</span>显示为<span
>True/False<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (is_bool($vars)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ($vars) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$vars
= 'True';<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$vars = 'False';<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (isCliMode()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $content =
$fromMsg . &quot;\r\n&quot; . $label . &quot;\r\n&quot; . print_r($vars, true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
(substr(PHP_OS, 0, 3) == 'WIN') {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$content = iconv('UTF-8', 'GB2312', $content);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>加上<span
>HTML</span>外围标签<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
(ini_get('html_errors') and !$return) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$content = &quot;&lt;pre&gt;&lt;br/&gt;{$fromMsg}&lt;br/&gt;&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if ($label != '') {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$content .= &quot;&lt;br/&gt;&lt;strong&gt;{$label}
:&lt;/strong&gt;&lt;br/&gt;&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$content .= htmlspecialchars(print_r($vars, true));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$content .= &quot;&lt;br/&gt;&lt;/pre&gt;&lt;br/&gt;&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;$content
= &quot;&lt;br/&gt;{$fromMsg}&lt;br/&gt;&lt;strong&gt;{$label}&lt;/strong&gt;
:&lt;br/&gt;&quot; . print_r($vars, true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>不需要返回情况下<span>,</span>打印<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!$return) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo
$content;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>无论如何也要返回<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $content;<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
<br>
/**<br>
&nbsp;* </span>显示调试信息<span><br>
&nbsp;* </span>这是<span>SDebug</span>的一个快捷入口<span><br>
&nbsp;*<br>
&nbsp;* @param string $msg </span>要显示的信息<span><br>
&nbsp;*/<br>
function debug($msg)<br>
{<br>
&nbsp;&nbsp;&nbsp; isDebug() ? SDebug::set($msg) : null;<br>
}<br>
<br>
/**<br>
&nbsp;* </span>判断当前是否调试状态<span><br>
&nbsp;*<br>
&nbsp;* @param string $name </span>调试状态名<span>,</span>此参数用来同时 调试不同的内容<span
><br>
&nbsp;* @return boolean </span>是否是指定的调试状态<span><br>
&nbsp;*/<br>
function isDebug($name = '')<br>
{<br>
&nbsp;&nbsp;&nbsp; return SDebug::isDebug($name);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>取指定配置信息<span><br>
&nbsp;* </span>这是<span>SConfig</span>的一个快捷入口<span><br>
&nbsp;* </span>所有参数原样传递<span><br>
&nbsp;* @return string|array|callable<br>
&nbsp;*/<br>
function config()<br>
{<br>
&nbsp;&nbsp;&nbsp; $args = func_get_args();<br>
&nbsp;&nbsp;&nbsp; return call_user_func_array('SConfig::get', $args);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>获取一个缓存实例<span><br>
&nbsp;*<br>
&nbsp;* @param string $type Page/Data: </span>页面缓存<span>/</span>数据缓存<span
><br>
&nbsp;* @return SCacheBase<br>
&nbsp;*/<br>
function Cache($type)<br>
{<br>
&nbsp;&nbsp;&nbsp; return SCache::instance($type);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>生成一个标准表对象<span><br>
&nbsp;*<br>
&nbsp;* @param string $name </span>表的别名<span><br>
&nbsp;* @param boolean $fileCache </span>是否要静态缓存<span><br>
&nbsp;* @return STable </span>表对象<span><br>
&nbsp;*/<br>
function table($name = '', $fileCache = false)<br>
{<br>
&nbsp;&nbsp;&nbsp; //</span>如果未提供表名<span>,</span>使用默认表<span
><br>
&nbsp;&nbsp;&nbsp; if (!$name) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $name = config('database',
'_defaultTable');<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; return STable::getInstance($name, $fileCache);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>生成一个<span>Mongo</span>表对象<span><br>
&nbsp;*<br>
&nbsp;* @param string $name Mongo</span>表名<span><br>
&nbsp;* @return SMongo<br>
&nbsp;*/<br>
function mongo($name)<br>
{<br>
&nbsp;&nbsp;&nbsp; return new SMongo($name);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>包含一个外部库<span><br>
&nbsp;*<br>
&nbsp;* @param string $file </span>外部库文件名<span>(</span>不包含<span
>.php</span>后缀<span>)<br>
&nbsp;*/<br>
function lib($file)<br>
{<br>
&nbsp;&nbsp;&nbsp; if(Frame::getModule()){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>计算当前模块的第三方类库<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $full = DIR_ROOT . 'program/module/'
. $this->getModule() . '/lib/' . $file . '.php';<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>如果当前模块有此类库则包含<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
(Frame::requireInsensitive($full)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>否则到全局类库中查找<span><br>
&nbsp;&nbsp;&nbsp; require_once(DIR_ROOT . 'program/lib/' . $file . '.php');<br>
}<br>
<br>
/**<br>
&nbsp;* </span>当本框架作为插件使用时的入口<span><br>
&nbsp;* </span>这是<span>Frame</span>的一个快捷入口<span><br>
&nbsp;* </span>没有经过<span>Index.php</span>单一入口<span>,</span>而是使用此方法接入<span
><br>
&nbsp;*<br>
&nbsp;* @param string $m </span>模块名称<span><br>
&nbsp;* @param string $c </span>控制器名称<span><br>
&nbsp;* @param string $a </span>动作名称<span><br>
&nbsp;* @param array $params </span>参数数组<span><br>
&nbsp;*/<br>
function plugin($m = null, $c = null, $a = null, array $params = [])<br>
{<br>
&nbsp;&nbsp;&nbsp; Frame::plugin($m, $c, $a, $params);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>显示一个页面片段<span>,</span>通常由<span>View</span>来调用<span
><br>
&nbsp;*<br>
&nbsp;* @param string $m </span>模块名称<span><br>
&nbsp;* @param string $c </span>控制器名称<span><br>
&nbsp;* @param string $a </span>动作名称<span><br>
&nbsp;* @param array $params </span>参数数组<span><br>
&nbsp;* @param int $cached </span>文件缓存的有效期<span>(</span>秒<span
>)<br>
&nbsp;*/<br>
function fragment($m, $c, $a, array $params = [], $cached = 7200)<br>
{<br>
&nbsp;&nbsp;&nbsp; Frame::fragment($m, $c, $a, $params, $cached);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>调用视图的方法<span><br>
&nbsp;* </span>这是<span>STemplate</span>的一个快捷入口<span><br>
&nbsp;*<br>
&nbsp;* @param string $file </span>指定模板文件<span>,</span>如果使用<span
>null,</span>则使用当前控制器名称和动作名称作为模板文件名<span><br>
&nbsp;* @param array $params </span>模板参数数组<span><br>
&nbsp;* @param boolean $return </span>要求模板解析结果 返回而不是输出<span><br>
&nbsp;* @return string </span>模板解析结果或空<span><br>
&nbsp;*/<br>
function display($file = null, $params = [], $return = false)<br>
{<br>
&nbsp;&nbsp;&nbsp; // </span>如果不要求返回<span><br>
&nbsp;&nbsp;&nbsp; if (!$return) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return STemplate::display($file,
$params);<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>不输出<span>,</span>而是返回模板解析后的内容<span
><br>
&nbsp;&nbsp;&nbsp; ob_start();<br>
&nbsp;&nbsp;&nbsp; STemplate::display($file, $params);<br>
&nbsp;&nbsp;&nbsp; return ob_get_clean();<br>
}<br>
<br>
/**<br>
&nbsp;* </span>根据控制器名称<span>,</span>动作名称及参数构造<span>URL<br>
&nbsp;* </span>这是<span>STemplate</span>的一个快捷入口<span><br>
&nbsp;*<br>
&nbsp;* @param string $module </span>模块名称<span><br>
&nbsp;* @param string $controller </span>控制器名称<span><br>
&nbsp;* @param string $action </span>动作名称<span><br>
&nbsp;* @param array $params </span>参数表<span><br>
&nbsp;* @return string </span>路径字符串<span>,</span>不带域名部分<span
><br>
&nbsp;*/<br>
function url($module = '', $controller = &quot;&quot;, $action = &quot;&quot;,
array $params = [])<br>
{<br>
&nbsp;&nbsp;&nbsp; return SRouter::encode($module, $controller, $action,
$params);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>写文本日志<span><br>
&nbsp;* </span>这是<span>SLog</span>的一个快捷入口<span><br>
&nbsp;*<br>
&nbsp;* @param string $file </span>日志文件名<span><br>
&nbsp;* @param string $msg </span>要记录的内容<span><br>
&nbsp;* @param $raw bool </span>是否以原始格式进行记录<span>,</span>否则会加些附加信息<span
><br>
&nbsp;*/<br>
function writeLog($file, $msg, $raw = false)<br>
{<br>
&nbsp;&nbsp;&nbsp; SLog::log($file, $msg, $raw);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>判断当前是否处于命令行模式<span><br>
&nbsp;*<br>
&nbsp;* @return boolean<br>
&nbsp;*/<br>
function isCliMode()<br>
{<br>
&nbsp;&nbsp;&nbsp; return (php_sapi_name() == 'cli');<br>
}<br>
<br>
/**<br>
&nbsp;* </span>取指定定界符中间的内容<span><br>
&nbsp;*<br>
&nbsp;* @param string $content </span>要截取的字符串<span><br>
&nbsp;* @param string|bool $begin </span>开始定界符<span><br>
&nbsp;* @param string|bool $end </span>结束定界符<span><br>
&nbsp;* @return boolean string<br>
&nbsp;*/<br>
function mid($content, $begin = false, $end = false)<br>
{<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果提供了开始定界符<span><br>
&nbsp;&nbsp;&nbsp; if ($begin !== false) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>计算开始定界符的出现位置<span
><br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$b = mb_stripos($content, $begin);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>如果没找到开始定界符<span
>,</span>失败<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ($b === false) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
false;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>去除开始定界符及以前的内容<span
>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $content = mb_substr($content, $b +
strlen($begin));<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果未提供结束定界符<span>,</span>直接 返回了<span
>.<br>
&nbsp;&nbsp;&nbsp; if ($end === false) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $content;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>计算结束定界符的出现位置<span><br>
&nbsp;&nbsp;&nbsp; $e = mb_stripos($content, $end);<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果没找到<span>,</span>失败<span><br>
&nbsp;&nbsp;&nbsp; if ($e === false) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果位置为<span>0,</span>返回空字符串<span
><br>
&nbsp;&nbsp;&nbsp; if ($e === 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return '';<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>返回 字符串直到定界符开始的地方<span><br>
&nbsp;&nbsp;&nbsp; return mb_substr($content, 0, $e);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>简化 字符串 左取<span><br>
&nbsp;* @param $str string </span>母串<span><br>
&nbsp;* @param $len int&nbsp; </span>长度<span><br>
&nbsp;* @return string </span>左取的结果<span><br>
&nbsp;*/<br>
function left($str, $len = 10)<br>
{<br>
&nbsp;&nbsp;&nbsp; return substr($str, 0, intval($len));<br>
}<br>
<br>
/**<br>
&nbsp;* </span>获取多语言翻译<span><br>
&nbsp;*<br>
&nbsp;* @param string $name </span>需要翻译项的名字<span>(Key)<br>
&nbsp;* @return mixed </span>当前语言下的翻译结果<span>|</span>当前语言名<span
><br>
&nbsp;*/<br>
function trans($name = '')<br>
{<br>
&nbsp;&nbsp;&nbsp; static $config;<br>
<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>取整个配置文件<span><br>
&nbsp;&nbsp;&nbsp; if (!$config) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $config = SConfig::get('language');<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>请求参数中指定语言的参数名<span><br>
&nbsp;&nbsp;&nbsp; $key = $config['_requestKey'];<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>所有可用的语言列表<span><br>
&nbsp;&nbsp;&nbsp; $valid = $config['_valid'];<br>
<br>
&nbsp;&nbsp;&nbsp; if (!isset($_REQUEST[$key])) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>如果请求参数中没有此参数<span
>,</span>使用默认语言<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $lan = $config['_default'];<br>
&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>获取请求参数中的语言<span
><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $lan = $_REQUEST[$key];<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // </span>如果不在可用语言列表中<span
>,</span>使用默认语言<span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!in_array($lan, $valid)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $lan =
$config['_default'];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果没有传递要翻译的项目<span>,</span>返回当前语言名<span
><br>
&nbsp;&nbsp;&nbsp; if (!$name) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $lan;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果配置文件中没有此项<span>,</span>那就不用研究当前语言了<span
><br>
&nbsp;&nbsp;&nbsp; if (!isset($config[$name])) {<br>
&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $name;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>计算当前指定语言在所有可用语言中的偏移量<span><br>
&nbsp;&nbsp;&nbsp; $offset = array_search($lan, $valid);<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>指定的翻译项的所有语言翻译内容<span><br>
&nbsp;&nbsp;&nbsp; $set = $config[$name];<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>如果没有指定翻译项<span><br>
&nbsp;&nbsp;&nbsp; if (!isset($set[$offset])) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $name;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>返回配置好的翻译结果<span><br>
&nbsp;&nbsp;&nbsp; return $set[$offset];<br>
}<br>
<br>
/**<br>
&nbsp;* </span>此方法过于常用<span><br>
&nbsp;*<br>
&nbsp;* @param $time int </span>时间戳<span><br>
&nbsp;* @return string </span>返回 年<span>-</span>月<span>-</span>日
时<span>-</span>分<span>-</span>秒<span><br>
&nbsp;*/<br>
function datetime($time = null)<br>
{<br>
&nbsp;&nbsp;&nbsp; return date('Y-m-d H:i:s', $time ?: time());<br>
}<br>
<br>
/**<br>
&nbsp;* </span>常用方法<span><br>
&nbsp;*<br>
&nbsp;* @return string </span>年<span>-</span>月<span>-</span>日<span
><br>
&nbsp;*/<br>
function today()<br>
{<br>
&nbsp;&nbsp;&nbsp; return date('Y-m-d');<br>
}<br>
<br>
/**<br>
&nbsp;* </span>常用的<span>JSON</span>编码<span>,</span>中文不转码<span
><br>
&nbsp;*<br>
&nbsp;* @param mixed $something<br>
&nbsp;* @return string<br>
&nbsp;*/<br>
function json($something)<br>
{<br>
&nbsp;&nbsp;&nbsp; if ($something instanceof SRow or $something instanceof
STable) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $something =
$something-&gt;toArray();<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; return json_encode($something, JSON_UNESCAPED_UNICODE);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>常用的<span>XML</span>中的<span>CDATA</span>段<span
><br>
&nbsp;*<br>
&nbsp;* @param $key string<br>
&nbsp;* @param $val string<br>
&nbsp;* @return string<br>
&nbsp;*/<br>
function cdata($key, $val)<br>
{<br>
&nbsp;&nbsp;&nbsp; return '&lt;' . $key . '&gt;&lt;![CDATA[' . $val .
']]&gt;&lt;/' . $key . '&gt;';<br>
}<br>
<br>
/**<br>
&nbsp;* </span>常用<span>XML</span>中的<span>CDATA </span>数组 字段<span
><br>
&nbsp;* @param array $arr<br>
&nbsp;* @return string<br>
&nbsp;*/<br>
function cdatas(array $arr)<br>
{<br>
&nbsp;&nbsp;&nbsp; $ret = '';<br>
&nbsp;&nbsp;&nbsp; foreach ($arr as $k =&gt; $v) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ret .= cdata($k, $v);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; return $ret;<br>
}<br>
<br>
/**<br>
&nbsp;* </span>记录一个错误信息<span>,</span>在下一个页面显示<span><br>
&nbsp;* @param $msg string<br>
&nbsp;*/<br>
function error($msg)<br>
{<br>
&nbsp;&nbsp;&nbsp; icePHP\Core\MVC\Message::setError($msg);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>记录一个成功信息<span>,</span>在下一个页面显示<span><br>
&nbsp;* @param $msg string<br>
&nbsp;*/<br>
function success($msg)<br>
{<br>
&nbsp;&nbsp;&nbsp; icePHP\Core\MVC\Message::setSuccess($msg);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>记录一个提示信息<span>,</span>在下一个页面显示<span><br>
&nbsp;* @param $msg string<br>
&nbsp;*/<br>
function info($msg)<br>
{<br>
&nbsp;&nbsp;&nbsp; icePHP\Core\MVC\Message::setInfo($msg);<br>
}<br>
<br>
/**<br>
&nbsp;* </span>为一个<span>URL</span>地址附加一些参数<span><br>
&nbsp;*<br>
&nbsp;* @param string $url<br>
&nbsp;* @param array $params<br>
&nbsp;* @return string<br>
&nbsp;*/<br>
function url_append($url, array $params)<br>
{<br>
&nbsp;&nbsp;&nbsp; // </span>如果已经有参数<span>,</span>附加<span
>&amp;,</span>否则附加<span>?<br>
&nbsp;&nbsp;&nbsp; if (!strpos($url, '?')) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $url .= &quot;?&quot;;<br>
&nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $url .= &quot;&amp;&quot;;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>逐个参数附加<span><br>
&nbsp;&nbsp;&nbsp; foreach ($params as $k =&gt; $v) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $url .= &quot;$k=$v&amp;&quot;;<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>去掉最后的<span>&amp;<br>
&nbsp;&nbsp;&nbsp; $url = trim($url, '&amp;');<br>
<br>
&nbsp;&nbsp;&nbsp; // </span>返回新的<span>URL<br>
&nbsp;&nbsp;&nbsp; return $url;<br>
}</span></span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335814"><span
 style='font-family:宋体;font-weight:normal'>(七)</span><span
style='font-family:宋体;font-weight:normal'>添加应用函数</span></a></h2>

<p class=MsoNormal><span >如果需要给当前应用添加函数，只需要在应用的<span
>gobal.function.php</span>文件（</span><code><span
style='background:#F7F7F7'>system/core</span></code><span style='font-family:
宋体'>）中定义需要的函数即可，系统会自动加载。</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335815"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>七、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>请求</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>输入变量获取，安全过滤等</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335816"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>八、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>数据库</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>连接，基本使用，查询<span>(</span>增删改查写法相关<span
>)</span>，事务，存储过程，数据集等</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335817"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>连接数据库</span></a></h2>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>配置文件</span><span
 style='font-family:宋体;font-weight:normal'>:</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>配置文件分为调试和运行两部分，配置文件名称为<span
>database.config.php</span>，调试配置在<span>/program/config/debug/</span>下，运行配置在<span
>/program/config/run/</span>下，配置格式完全一致。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=426 height=313
id="图片 7" src="/Static/admin/document/image028.png"></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>2.</span><span
style='font-family:宋体;font-weight:normal'>多数据库支持<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>调试和运行配置文件均引入通用配置<span
>/program/config/table.config.php</span>，可在此文件下进行多数据库配置。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=426 height=479
id="图片 8" src="/Static/admin/document/image029.png"></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335818"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>基本使用</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>配置了数据库连接信息后，我们就可以直接使用数据库运行原生<span
>SQL</span>操作了，支持<span>query</span>（查询操作）和<span
>execute</span>（写入操作）方法。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span><img border=0 width=410 height=70
id="图片 9" src="/Static/admin/document/image030.png"></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335819"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
style='font-family:宋体;font-weight:normal'>查询构造器</span></a></h2>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>查询数据</span><span
 style='font-family:宋体;font-weight:normal'>:</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架提供多种查询方法，包括<span
>select</span>、<span>row</span>、<span>col</span>和<span
>get</span>。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>select</span><span
style='font-size:10.5pt'>方法有四个参数，按顺序分别为<span>field</span>（查询域）、<span
>where</span>（查询条件）、<span>order</span>（排序）、<span
>limit</span>（具体条数），返回<span>SRow</span>数据，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=539 height=192
id="图片 10" src="/Static/admin/document/image031.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=567 height=47
id="图片 11" src="/Static/admin/document/image032.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>select id,name where id&gt;10 and name=’abc’ order by id desc limit
0,10</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>row</span><span
style='font-size:10.5pt'>方法有三个参数，按顺序分别为<span>field</span>（查询域）、<span
>where</span>（查询条件）、<span>order</span>（排序），如果结果有多条数据只取第一条，返回<span
>SRow</span>数据，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=448 height=178
id="图片 12" src="/Static/admin/document/image033.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=499 height=34
id="图片 13" src="/Static/admin/document/image034.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>select id,name where id&gt;10 and name=’abc’ order by id desc limit
0,1</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>col</span><span
style='font-size:10.5pt'>方法和<span>row</span>类似，不过返回的数据为<span
>array</span>，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=537 height=193
id="图片 14" src="/Static/admin/document/image035.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=546 height=57
id="图片 15" src="/Static/admin/document/image036.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>上面两段代码返回的数据相同。</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>get</span><span
style='font-size:10.5pt'>方法有三个参数，按顺序分别为<span>field</span>（查询域）、<span
>where</span>（查询条件）、<span>order</span>（排序），返回查询结果第一条数据的指定域数据，只能指定一个域，返回值为<span
>string</span>，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=454 height=159
id="图片 20" src="/Static/admin/document/image037.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=452 height=35
id="图片 16" src="/Static/admin/document/image038.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>select name where id&gt;10 and name=’abc’ order by id desc limit 0,1</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>添加数据<span
>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>添加数据方法为<span>insert</span>，只有一个参数<span
>row</span>（数据），返回值为添加后的主键，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=262 height=123
id="图片 21" src="/Static/admin/document/image039.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=316 height=34
id="图片 17" src="/Static/admin/document/image040.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>insert into user (id,name) values (10,’abc’)</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>更新数据<span
>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>更新数据方法为<span>update</span>，有两个参数<span
>row</span>（数据）和<span>where(</span>条件<span>)</span>，返回值为更新的数据条数，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=305 height=156
id="图片 22" src="/Static/admin/document/image041.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=333 height=35
id="图片 18" src="/Static/admin/document/image042.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>update user set name=’abc’ where id=1</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>删除数据<span
>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>删除数据方法为<span>delete</span>，只有一个参数<span
>where(</span>条件<span>)</span>，返回值为删除的数据条数，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=265 height=133
id="图片 23" src="/Static/admin/document/image043.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=242 height=36
id="图片 19" src="/Static/admin/document/image044.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>delete from user where id=1</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>exist</span><span
style='font-family:宋体;font-weight:normal'>查询<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>为了方便使用，本框架提供检查数据是否存在的方法<span
>exist</span>方法，只有一个参数<span>where(</span>条件<span
>)</span>，返回值为<span>boolean</span>，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=269 height=138
id="图片 24" src="/Static/admin/document/image045.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=219 height=36
id="图片 25" src="/Static/admin/document/image046.png"></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>count</span><span
style='font-family:宋体;font-weight:normal'>计数<span>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>为了方便使用，本框架提供查询数据条数的方法<span
>count</span>方法，只有一个参数<span>where(</span>条件<span
>)</span>，返回值为<span>int</span>，方法声明如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=267 height=138
id="图片 26" src="/Static/admin/document/image047.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=217 height=32
id="图片 27" src="/Static/admin/document/image048.png"></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335820"><span
 style='font-family:宋体;font-weight:normal'>(四)</span><span
style='font-family:宋体;font-weight:normal'>级联查询</span></a></h2>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>级联查询</span><span
 style='font-family:宋体;font-weight:normal'>:</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架提供<span>map</span>方法作为级联查询方法，可以配合查询方法使用。有四个参数<span
>table</span>（级联表名）、<span>relation</span>（级联条件）、<span
>filed</span>（级联域）、<span>where</span>（非级联条件），以<span
>select</span>举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=499 height=56
id="图片 28" src="/Static/admin/document/image049.png"></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>转化为<span>sql</span>语句为：<span
>select *,role.name as roleName from user,role where user.id&gt;10
and role.roleId=user.id and role.type=’role’ order by user.id desc limit 0,100</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>多级级联<span
>:</span></span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>map</span><span
style='font-size:10.5pt'>方法可以进行多级级联，举例如下：</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span><img border=0 width=480 height=89
id="图片 29" src="/Static/admin/document/image050.png"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
 >&nbsp;</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335821"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>九、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>模型</span></a></h1>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335822"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>模型初始化</span></a></h2>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>初始化方法为</span><span
 style='font-size:10.5pt'>/program/module/system/controller/index.controller.php</span><span
style='font-size:10.5pt'>的<span>table</span>方法和<span>record</span>方法</span><span
style='font-size:10.5pt'>。</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>table</span><span style='font-size:10.5pt'>方法生成的模型代码在</span><span
 style='font-size:10.5pt'>/program/table/</span><span
style='font-size:10.5pt'>下，<span>record</span>方法生成的模型代码在<span
>/program/record/</span>下。</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>record</span><span style='font-size:10.5pt'>模型是标准的数据模型，只存储数据，不带任何方法，类似于<span
>java</span>的<span>pojo</span>类。</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>table</span><span style='font-size:10.5pt'>模型包括<span>record</span>模型的数据功能，除此之外还集成了简单的数据库操作方法。</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>目前本框架模型部分只支持<span
>mysql</span>数据库。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335823"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
 style='font-family:宋体;font-weight:normal'>record</span></a><span
style='font-family:宋体;font-weight:normal'>模型</span></h2>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>record</span><span style='font-size:10.5pt'>模型将数据库表转化为一个<span
>php</span>类，对应关系如下：</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>string</span><span style='font-size:10.5pt'>：<span>['longtext','text',
'varchar', 'char', 'enum', 'date', 'datetime', 'time', 'mediumtext']</span></span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>int</span><span style='font-size:10.5pt'>：<span>['timestamp',
'tinyint', 'bigint',’int’]</span></span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>float</span><span style='font-size:10.5pt'>：<span>['decimal',
'double', 'float']</span></span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>另外为方便使用，对于<span
>enum</span>类型数据，将会自动生成所有枚举常量。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335824"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
 style='font-family:宋体;font-weight:normal'>table</span></a><span
style='font-family:宋体;font-weight:normal'>模型</span></h2>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>table</span><span style='font-size:10.5pt'>模型包括<span>record</span>模型，并且在此基础上增加了简单的数据库操作方法：</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>查询方法</span><span
 style='font-family:宋体;font-weight:normal'>:</span></h3>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>查询方法包括<span
>select</span>、<span>row</span>、<span>col</span>和<span
>get</span>四种方法，其使用方法和数据库基本操作等同。以<span>select</span>为例：</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span><img border=0
width=576 height=40 id="图片 34" src="/Static/admin/document/image051.png"></span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>上述方法将返回以<span
>user.record</span>为元素的数组。</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>修改方法<span
>:</span></span></h3>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>修改方法包括<span
>insert</span>、<span>update</span>和<span>delete</span>三种方法，其使用方法和数据库基本操作等同。以<span
>insert</span>为例：</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span><img border=0
width=361 height=43 id="图片 35" src="/Static/admin/document/image052.png"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
 >&nbsp;</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335825"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>视图</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>渲染，输出，实例化等</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><a name="_Toc486335826"><span
 style='font-family:宋体;font-weight:normal'>(一)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>视图实例化</span></a></h2>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>视图功能由<span>system\MVC\viewUnit</span>类配合视图驱动（模板引擎）类一起完成，目前的内置模板引擎包含<span
>PHP</span>原生模板。</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>下面的方法可以直接被调用：</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>详情请见<span>viewUnit,system,php</span>文件</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='background:white;border-collapse:collapse'>
 <thead>
  <tr>
   <td style='border:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
   <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
   style='font-size:12.0pt;font-family:宋体'>方法</span></p>
   </td>
   <td style='border:solid #888888 1.0pt;border-left:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
   <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
   style='font-size:12.0pt;font-family:宋体'>说明</span></p>
   </td>
  </tr>
 </thead>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>back</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>显示一个返回列表的按钮</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>add</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>显示一个新增按钮</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>crumb</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>显示面板屑</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>date</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>显示一个日期控件</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>discount</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>计算折扣</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>money</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>美化金额</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>phone</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>隐藏手机号码中间三位</span></p>
  </td>
 </tr>
 <tr>
  <td style='border:solid #888888 1.0pt;border-top:none;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>short</span></p>
  </td>
  <td style='border-top:none;border-left:none;border-bottom:solid #888888 1.0pt;
border-right:solid #888888 1.0pt;padding:2.25pt 9.0pt 2.25pt 9.0pt'>
  <p class=MsoNormal align=left style='text-align:left;line-height:20.4pt'><span
  style='font-size:12.0pt;font-family:宋体'>对超长字符串进行截断</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>如果你只是需要渲染模板输出的话，可以使用系统提供的<span>display</span>（）函数，可以完成相同的功能：</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
><img border=0 width=294 height=244 id="图片 36"
src="/Static/admin/document/image053.png"></span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335827"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十一、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>模板</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>包含文件，输出等</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>模板</span></p>

<h2 style='margin-left:18.0pt;text-indent:-18.0pt'><a name="_Toc486335828"><span
 style='font-family:宋体;font-weight:normal'>(一)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>模板类</span></a></h2>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>for</span><span
style='font-family:宋体;font-weight:normal'>循环</span></h3>

<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;{for($i=0;$i&lt;count($arr);$i++)}</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;{endfor} </span><span >或者<span
> {/for}</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span><span >缺陷<span
>:</span>如表达式中有<span>&gt;(</span>大于号<span>),</span>将导致视图在<span
>DW</span>中出现多余字符</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>foreach</span><span
style='font-family:宋体;font-weight:normal'>循环</span></h3>

<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;{foreach($arr as $k=&gt;$v)}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >{endforeach} </span><span style='font-family:
宋体'>或者<span> {/foreach}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
>缺陷<span>:'=&gt;' </span>将导致视图在<span
>DW</span>中出现多余字符</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>while</span><span
style='font-family:宋体;font-weight:normal'>循环</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{while(</span><span style='font-family:
宋体'>条件表达式<span>)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{endwhile} </span><span
>或者<span> {/while}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>if</span><span
style='font-family:宋体;font-weight:normal'>判断</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{if($i&gt;5)}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{elseif($i&gt;2)}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{else}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{endif} </span><span style='font-family:
宋体'>或者<span> {/if}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >缺陷<span
>:</span>如果表达式中有<span>&gt;(</span>大于号<span>),</span>将导致视图在<span
>DW</span>中出现多余字符</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>嵌套原生代码</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{php}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{/php}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>子模板包含</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{include('</span><span
>子模板<span>',</span>参数数组<span>)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >注意<span
>:</span>紧密连接</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>包含缓存的页面片段</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{Cache(&lt;</span><span
>子模板<span>&gt;,&lt;</span>有效期<span>&gt;,&lt;</span>参数数组<span
>&gt;)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >具体请参考本类的同名方法</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>自我感知</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >模板中主动调用<span
>Model</span>类的方法<span>,</span>主动调用业务逻辑类中的静态方法</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{assign(</span><span style='font-family:
宋体'>结果变量名<span>=model('</span>模型类名<span>')-&gt;</span>方法名<span
>(</span>参数表<span>))}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{assign(</span><span style='font-family:
宋体'>结果变量名<span>=</span>逻辑类名<span>::</span>方法名<span
>(</span>参数表<span>))}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{let(....</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>.</span><span
style='font-family:宋体;font-weight:normal'>显示函数返回值</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{date('Y-m-d H;i:s')}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >注意<span
>:</span>既然是函数调用<span>,</span>最后就应该是<span>')'</span>结束</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >例<span
>:{dump($var,'title',true)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span><span >这将显示一个复杂变量的值<span
>,</span>此函数请参考<span>public</span>文件</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>10.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>显示变量的值</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{$</span><span >变量<span
>}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{$</span><span >对象<span
>-&gt;</span>属性<span>}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{$</span><span >数组<span
>[</span>下标<span>]}</span></span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>11.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>当变量不存在<span
>,</span>或数组元素不存在时<span>,</span>显示默认值</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;{default($</span><span
>变量<span>/$</span>数组元素<span>,'&lt;</span>默认值<span
>&gt;')}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>12.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>赋值</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {assign($</span><span
>变量<span>=</span>表达式<span>)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {let(....</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>13.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>判断是否<span
>IE</span>浏览器</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {ifIE}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {else}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {endif}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>14.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>自定义标签</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {:</span><span style='font-family:
宋体'>方法名称<span>(</span>参数列表<span>)}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span><span >这将调用<span
>STemplate</span>下的静态公开方法<span>,</span>并显示返回结果</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>15.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>模板注释</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {#</span><span style='font-family:
宋体'>注释内容<span>}</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<h3 style='margin-left:21.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>16.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>页面片段</span></h3>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; {fragment($m,$c,$a[,$params])}</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span><span >这将调用指定的模块<span
>,</span>指定的控制器的方法<span>,</span>来生成一个片段的显示</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span><span >全局注意<span
>:</span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; '{for(',')}' </span><span
>以及<span> '{endfor}' </span>必须紧密连接</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; '{foreach(',')}'</span><span
>以及<span>'{endforeach}' </span>必须紧密连接</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span><span >其它标签也是如此</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:5.25pt'><span
 >&nbsp; </span><span >同一行内避免
两个标签<span>,</span>会出错<span>.</span></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
 >&nbsp;</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335829"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十二、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>日志</span></a></h1>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335830"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>日志配置</span></a></h2>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >配置文件<span>log.config.php</span>中进行文件日志相关配置。</span></p>

<p class=MsoListParagraph align=left style='margin-left:60.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>return [<br>
&nbsp;&nbsp;
'enable'=&gt;true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//</span><span style='font-size:10.0pt;font-family:宋体'>日志功能是否开启<span
><br>
&nbsp;&nbsp;
'dir_log'=&gt;DIR_ROOT.'run/log/',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span>日志文件根目录<span
><br>
&nbsp;&nbsp;
'db_enable'=&gt;true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span>是否开启数据库访问日志<span
><br>
&nbsp;&nbsp;
'db_file'=&gt;'db_access',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//</span>数据库访问日志的文件名<span><br>
&nbsp;&nbsp; 'db_min_time'=&gt;1000,&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span>数据库访问超过此时间才记录<span
>(</span>毫秒<span>),</span>如果设置为<span>0:</span>全部记录<span
><br>
&nbsp;&nbsp; 'dispatch_enable'=&gt;true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span>是否开启执行时间日志<span
><br>
&nbsp;&nbsp; 'dispatch_file'=&gt;'web_access', //</span>执行时间日志的文件名<span
><br>
&nbsp;&nbsp; 'dispatch_min_time'=&gt;1000,&nbsp;&nbsp;&nbsp; //</span>执行时间超过此时间才记录<span
>(</span>毫秒<span>),</span>如果设置为<span>0:</span>全部记录<span
><br>
&nbsp;&nbsp; 'requestLog'=&gt;array('MLog','request'), //</span>由哪个方法记录系统请求日志<span
><br>
];</span></span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335831"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>日志写入</span></a></h2>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >写日志快捷入口<span>writeLog</span>方法，用法如下：</span></p>

<p class=MsoListParagraph align=left style='margin-left:60.0pt;text-align:left;
text-indent:0cm;background:#F7F7F7;word-break:break-all'><span
style='font-size:10.0pt;font-family:宋体'>writeLog('FileName',’Msg’);</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >system/core/log.system.php</span><span
>文件日志处理类，记录一些自动写入日志方法，如超时处理<span>/SQL</span>日志<span
>/</span>请求日志等。</span></p>

<p class=MsoListParagraph style='margin-left:60.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >日志记录在<span>run/log</span>下。</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335832"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十三、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>错误调试</span></a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
>异常，调试模式，<span>sql</span>，性能等</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335833"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>模式</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架区分调试模式与运行模式</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开启调试模式后</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>框架会显示运行错误及调试信息</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>便于开发人员及时发现错误并排解错误</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>系统配置文件</span><span
 style='font-size:10.5pt'>(</span><span style='font-size:
10.5pt'>system.config.php)</span><span style='font-size:10.5pt'>中的<span
>config</span>项来决定模式<span>,</span>可选<span>debug</span>或<span
>run</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>调试模式下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>框架会自动开启</span><span
 style='font-size:10.5pt'>PHP</span><span style='font-size:10.5pt'>错误显示</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>抛出异常</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>运行模式下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>框架会关闭</span><span
 style='font-size:10.5pt'>PHP</span><span style='font-size:10.5pt'>错误显示</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>捕获异常并将异常记录到文本日志中</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335834"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
 style='font-family:宋体;font-weight:normal'>SQL</span></a><span
style='font-family:宋体;font-weight:normal'>调试</span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>调试模式下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>页面下方会显示程序执行过程中的用时</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>内存占用及执行过的</span><span
 style='font-size:10.5pt'>SQL</span><span style='font-size:10.5pt'>语句</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>示例</span><span
 style='font-size:10.5pt'>:</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span><img border=0 width=576 height=349
id="图片 6" src="/Static/admin/document/image054.jpg"
alt="说明: 说明: 计算机生成了可选文字: Webaccesspersist:2.0721185.&#10;SESSION:vcurd1553h13Jalhsm85tcoZeo&#10;Mem:6.2M&#10;SQLQueryin0.169015atMSite::IistAlisite::1435〔L氏下‘卜ROMuserW日仁R〔userlype=&#10;DESC&#10;SQLQueryin0.0085atMSite::listAllsite::144SELECTnameasproName,'id'FROMaddre:&#10;('10','27','12','22','7','19','23','24','17','6')&#10;SQLQueryin0.0100015atMSite::IistAllsite::145SELECTnameascityName,'id'FROMad.&#10;('77','254,,'98','318','51','200','308','345','169','37')&#10;SQLQueryin0.0100015atMAdvertisement::advertisementByPosition::128SELECT'id'FF&#10;播’ORDERBY、id'ASC日M耳0,4&#10;SQLQueryin0.0100015atTAdvertisementBase一＞row::219SELECT*FROMadvertisemen&#10;'beginTime'&lt;='2017一06一2208:38:44'AND'endTirne'&gt;='2017一06一2208:38:44'ORDER&#10;SQLQueryin0.0085atTAdvertisernentBase一＞row::219SELECT*FROMadvertisementw&#10;'beginTime'&lt;='2017一06一2208:38:44'AND'endTime'&gt;='2017一06一2208:38:44'ORDER"></span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335835"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十四、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>安全</span></a></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span >输入安全，数据库安全，上传安全及其他安全设定</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335836"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>输入安全</span></a></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >设置<span>public</span>目录为唯一对外访问目录，下有唯一入口和静态资源文件</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >使用框架提供的<span>system/mvc/controller.system.php</span>下系列<span
>get</span>方法获取相应参数，会进行编码检查，引号反斜线等过滤替换。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >配置文件<span>anti.config.php</span>中设置相关防入侵系统参数，包括<span
>IP</span>禁止，过滤参数禁止词等。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335837"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
style='font-family:宋体;font-weight:normal'>数据库安全</span></a></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >尽量少使用字符串查询条件，如果不得已的情况下 使用手动参数绑定功能；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >不要让用户输入决定要查询或者写入的字段；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对于敏感数据在输出的时候使用<span>hidden</span>方法进行隐藏；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对于数据的写入操作应当做好权限检查工作；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >写入数据严格使用<span>field</span>方法限制写入字段；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对于需要输出到页面的数据做好必要的<span>XSS</span>过滤；</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335838"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
style='font-family:宋体;font-weight:normal'>上传安全</span></a></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >配置文件<span>upload.config.php</span>中可进行目录<span
>/</span>大小限制<span>/</span>宽高缩放场景等配置。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >System/enhance/Upload.php</span><span
>图片上传类中，</span><span style='font-family:宋体;background:
white'>提供了文件上传的安全支持，包括对文件后缀、文件类型、文件大小以及上传图片文件的合法性检查。</span></p>

<h2 style='margin-left:21.0pt;text-indent:-21.0pt'><a name="_Toc486335839"><span
 style='font-family:宋体;font-weight:normal'>(四)</span><span
style='font-family:宋体;font-weight:normal'>其他安全建议</span></a></h2>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对所有公共的操作方法做必要的安全检查，防止用户通过<span
>URL</span>直接调用；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >不要缓存需要用户认证的页面；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对用户的上传文件，做必要的安全检查，例如上传路径和非法格式；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >对于项目进行充分的测试，不要生成业务逻辑的安全隐患（这可能是最大的安全问题）；</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt'><span
 style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span >最后一点，做好服务器的安全防护，安全问题的关键其实是你的最薄弱的环节；</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335840"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十五、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>杂项</span></a></h1>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
>缓存，<span>cookie</span>，<span>session</span>，多语言，分页，上传，验证码等</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335841"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
style='font-family:宋体;font-weight:normal'>缓存</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架提供文件缓存</span><span
 style='font-size:10.5pt'>/</span><span style='font-size:
10.5pt'>memcached</span><span style='font-size:10.5pt'>缓存</span></p>

<h3 style='margin-left:63.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>配置</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>文件缓存的配置文件存放在</span><span
 style='font-size:10.5pt'>/</span><span style='font-size:
10.5pt'>program/config/debug/filecache.config.php</span><span style='font-size:
10.5pt'>中<span>,</span>开发人员可以指定缓存文件存放的路径</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>memcached</span><span
style='font-size:10.5pt'>缓存的配置文件存放在</span><span style='font-size:
10.5pt'>/program/config/debug/Memcache.php</span><span style='font-size:10.5pt'>中</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开发人员可以指定缓存服务器集群的</span><span
 style='font-size:10.5pt'>IP</span><span style='font-size:10.5pt'>及端口</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>项目中会有三种场景需要缓存</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>可以分别指定缓存方式</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>三种场景的缓存方式由配置文件</span><span
 style='font-size:10.5pt'> system.config.php</span><span
style='font-size:10.5pt'>来指定</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt;text-indent:21.1pt'><span style='font-size:10.5pt;
color:green;background:#F7FAFF'>视图缓存</span><span style='font-size:
10.5pt;color:green;background:#F7FAFF'>:</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>cachePage</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'> </span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>可以设置为</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'>file(</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>使用文件缓存</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'>),mem(</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>使用</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'>memcached</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>缓存</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'>),</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'>none(</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>不使用缓存<span>)</span></span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt;text-indent:21.1pt'><span style='font-size:10.5pt;
color:green;background:#F7FAFF'>数据缓存</span><span style='font-size:
10.5pt;color:green;background:#F7FAFF'>:</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>cacheData</span><span
 style='font-size:10.5pt;color:green;background:#F7FAFF'> </span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>配置同上</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt;text-indent:21.1pt'><span style='font-size:10.5pt;
color:green;background:#F7FAFF'>主动缓存</span><span style='font-size:
10.5pt;color:green;background:#F7FAFF'>:</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>cacheMust</span><span
style='font-size:10.5pt;color:green;background:#F7FAFF'>配置同上</span></p>

<h3 style='margin-left:63.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>创建</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>开发人员可能调用全局函数来创建主动缓存对象</span><span
 style='font-size:10.5pt'>:$Cache=Cache('must');</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>视图缓存与数据缓存由系统框架使用</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>不需要开发人员参与</span></p>

<h3 style='margin-left:63.0pt;text-indent:-21.0pt'><span
style='font-family:宋体;font-weight:normal'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='font-family:宋体;font-weight:normal'>使用</span></h3>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>缓存对象提供以下方法</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:50.9pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=64 valign=top style='width:48.0pt;border:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>方法</span></p>
  </td>
  <td width=139 valign=top style='width:104.05pt;border:solid #A3A3A3 1.0pt;
border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>功能</span></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:48.0pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>set</span></p>
  </td>
  <td width=139 valign=top style='width:104.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span style='font-size:10.5pt;
color:gray;background:#F7FAFF'>缓存一条数据</span></i></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:48.0pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span
  style='font-size:10.5pt;color:gray;background:#F7FAFF'>get</span></i></p>
  </td>
  <td width=139 valign=top style='width:104.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span style='font-size:10.5pt;
color:gray;background:#F7FAFF'>读取一条缓存数据</span></i></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:48.0pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span
  style='font-size:10.5pt;color:black;background:#E4E4FF'>delete</span></i></p>
  </td>
  <td width=139 valign=top style='width:104.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span style='font-size:10.5pt;
color:gray;background:#F7FAFF'>删除一条缓存数据</span></i></p>
  </td>
 </tr>
 <tr>
  <td width=64 valign=top style='width:48.0pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt;color:black;background:#E4E4FF'>clear</span></p>
  </td>
  <td width=139 valign=top style='width:104.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><i><span style='font-size:10.5pt;
color:gray;background:#F7FAFF'>清除缓存数据</span></i></p>
  </td>
 </tr>
</table>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335842"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
 style='font-family:宋体;font-weight:normal'>Session</span></a><span
style='font-family:宋体;font-weight:normal'>与<span>Cookie</span></span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架未对</span><span
 style='font-size:10.5pt'>Session</span><span style='font-size:10.5pt'>和</span><span
 style='font-size:10.5pt'>Cookie</span><span style='font-size:10.5pt'>进行封装</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开发人员可以使用原生</span><span
 style='font-size:10.5pt'>$_SESSION</span><span style='font-size:
10.5pt'>和</span><span style='font-size:10.5pt'>$_COOKIE</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335843"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
style='font-family:宋体;font-weight:normal'>多语言</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>多语言配置由</span><span
 style='font-size:10.5pt'>language.config.php</span><span
style='font-size:10.5pt'>管理</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>程序和页面中可以使用</span><span
 style='font-size:10.5pt'>trans('&lt;</span><span style='font-size:
10.5pt'>键</span><span style='font-size:10.5pt'>&gt;') </span><span
style='font-size:10.5pt'>来获取当前语言的指定键的翻译版本</span><span
style='font-size:10.5pt'>.</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335844"><span
 style='font-family:宋体;font-weight:normal'>(四)</span><span
style='font-family:宋体;font-weight:normal'>分页</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架提供</span><span
 style='font-size:10.5pt'>SPage</span><span style='font-size:10.5pt'>类来实现页面的分页功能</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335845"><span
 style='font-family:宋体;font-weight:normal'>(五)</span><span
style='font-family:宋体;font-weight:normal'>验证码</span></a></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:54.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架提供</span><span
 style='font-size:10.5pt'>SVCode</span><span style='font-size:10.5pt'>类来生成验证码图片</span></p>

<p class=MsoNormal><span >&nbsp;</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335846"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十六、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>扩展</span></a></h1>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
>扩展系统函数，第三方类库安装，行为</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335847"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十七、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>命令行模式</span></a></h1>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架支持程序在命令行下执行</span><span
 style='font-size:10.5pt'>.</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>我们在项目根目录下</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>执行以下格式命令</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>php system/program.php &quot;?</span><span style='font-size:
10.5pt'>c=&lt;</span><span style='font-size:10.5pt'>控制器<span>&gt;&amp;a=&lt;</span>动作<span
>&gt;&amp;&lt;</span>参数名<span>&gt;=&lt;</span>参数值<span
>&gt;</span>…<span>&quot;</span></span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>&nbsp;</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>参数格式与</span><span
 style='font-size:10.5pt'>URL</span><span style='font-size:10.5pt'>方式类似</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>开发时</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>也可通过</span><span
 style='font-size:10.5pt'>URL</span><span style='font-size:10.5pt'>方式进行测试</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335848"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十八、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>部署</span></a></h1>

<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
>部署相关注意项，文件写权限等</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>本框架是单一入口模式</span><span
 style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>需要将所有请求转向到</span><span
 style='font-size:10.5pt'>/Public/index.php</span><span
style='font-size:10.5pt'>来进行处理</span></p>

<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt'>&nbsp;</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335849"><span
 style='font-family:宋体;font-weight:normal'>(一)</span><span
 style='font-family:宋体;font-weight:normal'>Apache</span></a><span
style='font-family:宋体;font-weight:normal'>模式下</span><span
style='font-family:宋体;font-weight:normal'>,</span><span style='font-family:
宋体;font-weight:normal'>需要</span><span style='font-family:宋体;
font-weight:normal'>.</span><span style='font-family:宋体;font-weight:
normal'>htaccess</span><span style='font-family:宋体;font-weight:normal'>文件来进行转向</span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteEngine
On</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteCond
%{REQUEST_FILENAME} -s [OR]</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteCond
%{REQUEST_FILENAME} -l [OR]</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteCond
%{REQUEST_FILENAME} -d</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteRule
^.*$ - [NC,L]</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>RewriteRule
^.*$ index.php [NC,L]</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335850"><span
 style='font-family:宋体;font-weight:normal'>(二)</span><span
 style='font-family:宋体;font-weight:normal'>Nginx</span></a><span
style='font-family:宋体;font-weight:normal'>模式下<span>,</span>需要配置文件 来进行转向</span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>rewrite ^/(.*)$
/index.php last;</span></p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>&nbsp;</span></p>

<h2 style='margin-left:42.0pt;text-indent:-21.0pt'><a name="_Toc486335851"><span
 style='font-family:宋体;font-weight:normal'>(三)</span><span
 style='font-family:宋体;font-weight:normal'>Linux</span></a><span
style='font-family:宋体;font-weight:normal'>下的权限</span></h2>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;margin-left:27.0pt;
margin-bottom:.0001pt'><span style='font-size:10.5pt'>以下目录需要赋予写权限</span><span
 style='font-size:10.5pt'>(</span><span style='font-size:10.5pt'>级联</span><span
 style='font-size:10.5pt'>)</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:24.0pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>/Public/upload </span></p>
  </td>
  <td width=167 valign=top style='width:125.05pt;border:solid #A3A3A3 1.0pt;
border-left:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>用户上传的文件</span><span
  style='font-size:10.5pt'> </span></p>
  </td>
 </tr>
 <tr>
  <td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>/run/log</span></p>
  </td>
  <td width=167 valign=top style='width:125.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>运行中生成的文本日志</span></p>
  </td>
 </tr>
 <tr>
  <td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>/run/view_c</span></p>
  </td>
  <td width=167 valign=top style='width:125.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>编译后的视图文件</span><span
  style='font-size:10.5pt'> </span></p>
  </td>
 </tr>
 <tr>
  <td width=134 valign=top style='width:100.8pt;border:solid #A3A3A3 1.0pt;
border-top:none;padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span
  style='font-size:10.5pt'>/Public/Static/Cache</span></p>
  </td>
  <td width=167 valign=top style='width:125.05pt;border-top:none;border-left:
none;border-bottom:solid #A3A3A3 1.0pt;border-right:solid #A3A3A3 1.0pt;
padding:4.0pt 4.0pt 4.0pt 4.0pt'>
  <p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>脚本文件缓存目录</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span >&nbsp;</span></p>

<h1 style='margin-left:21.0pt;text-indent:-21.0pt;line-height:normal'><a
name="_Toc486335852"><span style='font-size:15.0pt;font-family:宋体;
font-weight:normal'>十九、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:15.0pt;font-family:宋体;font-weight:normal'>附录</span></a></h1>

</div>
</div>

